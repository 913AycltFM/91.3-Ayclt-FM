{"version":3,"file":"amplitude.umd.js","sources":["../src/config.js","../src/services/Debug.js","../src/services/ConfigState.js","../src/services/Callbacks.js","../src/core/Audio.js","../src/elements/PlayPauseElements/GlobalPlayPauseElement.js","../src/services/Collections/Checks.js","../src/elements/PlayPauseElements/CollectionPlayPauseElement.js","../src/services/Audio/Checks.js","../src/elements/MetaDataElement.js","../src/elements/ContainerElements/AudioContainerElement.js","../src/elements/ContainerElements/CollectionAudioContainerElement.js","../src/elements/ContainerElement.js","../src/services/Audio/Navigation.js","../src/elements/PlayPauseElements/AudioPlayPauseElement.js","../src/elements/PlayPauseElements/CollectionAudioPlayPauseElement.js","../src/elements/PlayPauseElement.js","../src/services/Collections/Navigation.js","../src/events/AudioEndedEvent.js","../src/events/KeyBindingEvents.js","../src/elements/BufferedProgressElements/GlobalBufferedProgressElement.js","../src/elements/BufferedProgressElements/CollectionBufferedProgressElement.js","../src/elements/BufferedProgressElements/AudioBufferedProgressElement.js","../src/elements/BufferedProgressElement.js","../src/elements/ProgressElements/GlobalProgressElement.js","../src/elements/ProgressElements/CollectionProgressElement.js","../src/elements/ProgressElements/AudioProgressElement.js","../src/elements/ProgressElements/CollectionAudioProgressElement.js","../src/elements/ProgressElement.js","../src/services/Time.js","../src/elements/TimeElements/CurrentTime/GlobalCurrentTimeElement.js","../src/elements/TimeElements/CurrentTime/CollectionCurrentTimeElement.js","../src/elements/TimeElements/CurrentTime/AudioCurrentTimeElement.js","../src/elements/TimeElements/CurrentTime/CollectionAudioCurrentTimeElement.js","../src/elements/TimeElement.js","../src/elements/TrackerElements/GlobalTrackerElement.js","../src/elements/TrackerElements/CollectionTrackerElement.js","../src/elements/TrackerElements/AudioTrackerElement.js","../src/elements/TrackerElements/CollectionAudioTrackerElement.js","../src/elements/TrackerElement.js","../src/events/TimeUpdateEvent.js","../src/services/EventManager.js","../src/elements/NextElements/CollectionNextElement.js","../src/elements/NextElements/GlobalNextElement.js","../src/elements/NextElement.js","../src/elements/VolumeSliderElement.js","../src/elements/MuteElement.js","../src/elements/PauseElements/GlobalPauseElement.js","../src/elements/PauseElements/CollectionPauseElement.js","../src/elements/PauseElements/AudioPauseElement.js","../src/elements/PauseElements/CollectionAudioPauseElement.js","../src/elements/PauseElement.js","../src/elements/PlayElements/GlobalPlayElement.js","../src/elements/PlayElements/CollectionPlayElement.js","../src/elements/PlayElements/AudioPlayElement.js","../src/elements/PlayElements/CollectionAudioPlayElement.js","../src/elements/PlayElement.js","../src/elements/PlaybackSpeedElement.js","../src/elements/PreviousElements/CollectionPreviousElement.js","../src/elements/PreviousElements/GlobalPreviousElement.js","../src/elements/PreviousElement.js","../src/services/Collections/Shuffle.js","../src/elements/ShuffleElements/CollectionShuffleElement.js","../src/elements/ShuffleElements/GlobalShuffleElement.js","../src/elements/ShuffleElement.js","../src/elements/SkipToElements/AudioSkipToElement.js","../src/elements/SkipToElements/CollectionAudioSkipToElement.js","../src/elements/SkipToElement.js","../src/elements/StopElement.js","../src/elements/VolumeDownElement.js","../src/elements/VolumeUpElement.js","../src/services/ElementsManager.js","../src/init/Collections.js","../src/init/UserConfig.js","../src/init/Initializer.js","../src/methods/init.js","../src/methods/config.js","../src/methods/playlists.js","../src/methods/eventListeners.js","../src/index.js"],"sourcesContent":["/**\n * These variables make Amplitude run. The config is the most important\n * containing active settings and parameters.\n *\n * The config JSON is the global settings for ALL of Amplitude functions.\n * This is global and contains all of the user preferences. The default\n * settings are set, and the user overwrites them when they initialize\n * Amplitude.\n */\nimport version from \"../package.json\";\n\nexport const config = {\n\t// Amplitude State Variables\n\taudio_element: new Audio(),\n\tmobile: false,\n\tversion: version,\n\n\t// Amplitude Dynamic Variables\n\tactive_metadata: {},\n\tactive_album: \"\",\n\tactive_index: 0,\n\n\tactive_podcast: null,\n\tactive_playlist: null,\n\tactive_collection: null,\n\n\tplayback_speed: 1.0,\n\trepeat: false,\n\tshuffle_list: {},\n\t/**\n\t * @todo BREAKING should be repeat_audio\n\t */\n\t// repeat_song: false,\n\trepeat_audio: false,\n\tshuffle_on: false,\n\n\t// User Definable Variables\n\tcallbacks: [],\n\t\n\taudio: [],\n\n\tcollections: [],\n\n\tdebug: true,\n\tdefault_artwork: \"\",\n\tdefault_playlist_art: \"\",\n\n\tstart_audio: \"\",\n\n\tstarting_playlist: \"\",\n\tstarting_playlist_song: \"\",\n\n\tstarting_podcast: \"\",\n\tstarting_podcast_episode: \"\",\n\n\t/**\n\t * @todo BREAKING CHANGE\n\t */\n\tvolume: {\n\t\tcurrent: 50,\n\t\tincrement: 5,\n\t\tdecrement: 5,\n\t\tpre_mute_level: 50\n\t},\n\t//   volume: 0.5,\n\n\t//   pre_mute_volume: 0.5,\n\n\t//   volume_increment: 5,\n\n\t//   volume_decrement: 5,\n\n\t/**\n\t * @todo BREAKING CHANGE\n\t */\n\tsoundcloud: {\n\t\tclient: '',\n\t\tuse_art: false,\n\t\taudio_count: 0,\n\t\tready_count: 0\n\t},\n\t// soundcloud_client: \"\",\n\n\t// soundcloud_use_art: false,\n\n\t// soundcloud_song_count: 0,\n\n\t// soundcloud_songs_ready: 0,\n\n\tis_touch_moving: false,\n\n\tbuffered: 0,\n\n\tbindings: {},\n\n\tcontinue_next: true,\n\n\tdelay: 0,\n\n\tplayer_state: \"stopped\",\n\n\ttime_format: 'MM:SS',\n\n\t/**\n\t * @todo BREAKING\n\t */\n\tweb_audio_api:{\n\t\tavailabile: false,\n\t\tcontext: null,\n\t\tsource: null,\n\t\tanalyser: null\n\t},\n\t//   web_audio_api_available: false,\n\n\t//   context: null,\n\n\t//   source: null,\n\n\t//   analyser: null,\n\n\tvisualizations: {\n\t\tavailable: [],\n\n\t\tactive: [],\n\n\t\tbackup: \"\"\n\t},\n\t\n\twaveforms: {\n\tsample_rate: 100,\n\n\tbuilt: [],\n\n\t}\n};\n","import { config } from \"@/config.js\";\n\nexport class Debug{\n\tstatic writeMessage( message ){\n\t\tif( config.debug ){\n\t\t\tconsole.log( message );\n\t\t}\n\t}\n}","import { config } from '@/config.js';\n\n\n\nexport class ConfigState{\n\tsetIsMobile(){\n\t\tif ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test( navigator.userAgent ) ) {\n\t\t\tconfig.mobile = true;\n\t\t}else{\n\t\t\tconfig.mobile = false;\n\t\t}\n\t}\n\n\tstatic isIos(){\n\t\treturn /iPhone|iPad|iPod/i.test( navigator.userAgent );\n\t}\n\n\tstatic isIE(){\n\t\tlet ua = window.navigator.userAgent;\n\t\tlet msie = ua.indexOf(\"MSIE \");\n\n\t\treturn ( msie > 0 || !!navigator.userAgent.match(/Trident.*rv\\:11\\./) );\n\t}\n\n\tstatic isMobile(){\n\t\treturn config.mobile;\n\t}\n\n\tstatic isTouchMoving(){\n\t\treturn config.is_touch_moving;\n\t}\n\n\tstatic getAudioState(){\n\t\treturn config.audio_element.paused ? \"paused\" : \"playing\";\n\t}\n\n\tstatic getScope(){\n\t\tif( config.active_collection == '' || config.active_collection == null ){\n\t\t\treturn 'audio';\n\t\t}else{\n\t\t\treturn 'collection';\n\t\t}\n\t}\n\n\tstatic getVolume(){\n\t\treturn config.volume.current;\n\t}\n\n\tstatic getVolumeIncrement(){\n\t\treturn config.volume.increment;\n\t}\n\n\tstatic getVolumeDecrement(){\n\t\treturn config.volume.decrement;\n\t}\n\n\tstatic getPreMuteVolume(){\n\t\treturn config.volume.pre_mute_level;\n\t}\n\n\tstatic setPreMuteVolume( level = null ){\n\t\tif( !level ){\n\t\t\tlevel = config.volume.current;\n\t\t}\n\n\t\tconfig.volume.pre_mute_level = level;\n\t}\n\n\tstatic getPlaybackSpeed(){\n\t\treturn config.playback_speed;\n\t}\n\n\tstatic isCollectionShuffled( collection ){\n\t\tif( config.collections[ collection ] && config.collections[ collection ].shuffled ){\n\t\t\treturn true;\n\t\t}else{ \n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic setCollectionShuffled( collection, shuffled, audio ){\n\t\tconfig.collections[ collection ].shuffled = shuffled;\n\t\tconfig.collections[ collection ].audio = audio;\n\t}\n\n\tstatic getCollectionAudio( collection ){\n\t\treturn config.collections[ collection ].audio;\n\t}\n\n\tstatic getActiveCollection(){\n\t\treturn config.active_collection;\n\t}\n\n\tstatic getActiveAudioIndex(){\n\t\treturn config.active_index;\n\t}\n\n\tstatic getContinueNext(){\n\t\treturn config.continue_next;\n\t}\n\n\tstatic updateBufferedTime(){\n\t\t// Help from: http://jsbin.com/badimipi/1/edit?html,js,output\n        if( config.audio_element.buffered.length - 1 >= 0 ){\n            let bufferedEnd = config.audio_element.buffered.end(\n                config.audio_element.buffered.length - 1\n            );\n\n            let duration = config.audio_element.duration;\n\n            config.buffered = ( bufferedEnd / duration ) * 100;\n        }\n\t}\n\n\tstatic getBufferedPercentage(){\n\t\treturn parseFloat( config.buffered ) / 100;\n\t}\n\n\tstatic isLive(){\n\t\treturn config.active_metadata.live;\n\t}\n\n\tstatic getTimeFormat(){\n\t\treturn config.time_format;\n\t}\n\n\tstatic getCallback( name ){\n\t\tlet callbackObject = false;\n\n\t\tconfig.callbacks.forEach( function( callback ){\n\t\t\tif( callback.event == name ){\n\t\t\t\tcallbackObject = callback\n\t\t\t}\n\t\t});\n\n\t\treturn callbackObject;\n\t}\n\n\tresetConfig(){\n\t\tconfig.audio_element = new Audio();\n\t\tconfig.active_metadata = {};\n\t\tconfig.active_album = \"\";\n\t\tconfig.active_index = 0;\n\t\tconfig.active_playlist = null;\n\t\tconfig.playback_speed = 1.0;\n\t\tconfig.audio = [];\n\t\tconfig.playlists = {};\n\t\tconfig.start_audio = \"\";\n\t\tconfig.starting_playlist = \"\";\n\t\tconfig.starting_playlist_song = \"\";\n\t\tconfig.repeat = false;\n\t\tconfig.shuffle_list = {};\n\t\tconfig.shuffle_on = false;\n\t\tconfig.default_artwork = \"\";\n\t\tconfig.default_playlist_art = \"\";\n\t\tconfig.debug = true;\n\t\tconfig.callbacks = [];\n\n\t\tconfig.volume =  {\n\t\t\tcurrent: 50,\n\t\t\tincrement: 5,\n\t\t\tdecrement: 5,\n\t\t\tpre_mute_level: 50\n\t\t},\n\n\t\tconfig.soundcloud = {\n\t\t\tclient: '',\n\t\t\tuse_art: false,\n\t\t\taudio_count: 0,\n\t\t\tready_count: 0\n\t\t},\n\n\t\t/**\n\t\t * @todo BREAKING CHANGE\n\t\t */\n\t\t// config.soundcloud_client = \"\";\n\t\t// config.soundcloud_use_art = false;\n\t\t// config.soundcloud_song_count = 0;\n\t\t// config.soundcloud_songs_ready = 0;\n\t\tconfig.continue_next = true;\n\n\t\t/**\n\t\t * @todo rebind event handlers\n\t\t */\n\t\t\n\t}\n\n\n\tstatic setPlayerState(){\n\t\t// If paused and the current time is 0 the player is stopped.\n\t\tif (config.audio_element.paused && config.audio_element.currentTime == 0) {\n\t\t\tconfig.player_state = \"stopped\";\n\t\t}\n  \n\t\t// If paused and the current time is greater than 0 the player is paused.\n\t\tif (config.audio_element.paused && config.audio_element.currentTime > 0) {\n\t\t\tconfig.player_state = \"paused\";\n\t\t}\n  \n\t\t// If playing, the current state is playing.\n\t\tif (!config.audio_element.paused) {\n\t\t\tconfig.player_state = \"playing\";\n\t\t}\n\t}\n}","import { config } from \"../config\";\nimport { ConfigState } from \"./ConfigState\";\nimport { Debug } from \"./Debug\";\n\nexport class Callbacks{\n    #events = [\n        'abort',\n        'error',\n        'loadeddata',\n        'loadedmetadata',\n        'loadstart',\n        'pause',\n        'playing',\n        'play',\n        'progress',\n        'ratechange',\n        'seeked',\n        'seeking',\n        'stalled',\n        'suspend',\n        'timeupdate',\n        'volumechange',\n        'waiting',\n        'canplay',\n        'canplaythrough',\n        'durationchange',\n        'ended'\n    ];\n\n    handleNativeAudioElementEvents(){\n        this.#events.forEach( function( event ){\n            config.audio_element.addEventListener( event, function( ){\n                Callbacks.run( event );\n            } );\n        });\n    }\n\n    static run( event ){\n        let callback = ConfigState.getCallback( event );\n\n        if( callback ){\n            Debug.writeMessage( \"Running Callback for event '\" + callback.event + \"' with method '\" + callback.handler + \"'\");\n\n            try {\n                window[callback.handler]();\n            } catch ( error ){\n                if (error.message == \"CANCEL EVENT\") {\n                    throw error;\n                }else{\n                    Debug.writeMessage( error.message );\n                }\n            }\n        }\n    }\n}","import { Callbacks } from \"@/services/Callbacks.js\";\nimport { config } from \"@/config.js\";\nimport { ConfigState } from '@/services/ConfigState.js'\nimport { Debug } from \"@/services/Debug.js\";\n\nexport class Audio{\n    play(){\n        this.#startVisualizations();\n        this.#reconnectStream();\n        this.#playAudio();\n        ConfigState.setPlayerState();\n    }\n\n    pause(){\n        this.#stopVisualizations();\n        this.#pauseAudio();\n        this.#disconnectStream();\n        ConfigState.setPlayerState();\n    }\n\n    stop(){\n        this.#stopVisualizations();\n        this.setCurrentTime(0);\n        this.#pauseAudio();\n        this.#disconnectStream();\n        ConfigState.setPlayerState();\n        Callbacks.run('stop');\n    }\n\n    skipToLocation(seconds){\n        // Cannot skip live streams\n        if( !config.active_metadata.live ){\n            // We only skip to the location when the audio is loaded enough to play through\n            // and skip to a location. This event is unbound after it's fired once.\n            config.audio_element.addEventListener(\"canplaythrough\", function(){\n                if( config.audio_element.duration >= seconds && seconds > 0 ){\n                    config.audio_element.currentTime = seconds;\n                } else {\n                    Debug.writeMessage( \"Amplitude can't skip to a location greater than the duration of the audio or less than 0.\")\n                }\n            }, { once: true } );\n        }\n    }\n\n    /**\n     * \n     * @param {number} volumeLevel - A number between 1 - 100 as percentage of volume.\n     */\n    setVolume( volumeLevel ){\n        this.#setMuted( volumeLevel );\n        this.#setAudioVolume( volumeLevel );\n    }\n\n    setAudioLocation( percentage ){\n        if( !config.active_metadata.live ){\n            config.audio_element.currentTime = config.audio_element.duration * ( percentage / 100 );\n        }\n    }\n\n    setPlaybackSpeed( playbackSpeed ){\n        config.playback_speed = playbackSpeed;\n        config.audio_element.playbackRate = config.playback_speed;\n    }\n\n    #startVisualizations(){\n        // Visualizations.stop();\n        // Visualizations.run();\n    }\n\n    #stopVisualizations(){\n        // Visualizations.stop();\n    }\n\n    #reconnectStream(){\n        /*\n            Mobile remote sources need to be reconnected on play. I think this is\n            because mobile browsers are optimized not to load all resources\n            for speed reasons. We only do this if mobile and the paused button\n            is not clicked. If the pause button was clicked then we don't reconnect\n            or the user will lose their place in the stream.\n        */ \n        if( config.active_metadata.live \n            || ( ConfigState.isMobile() && !config.paused ) ){\n                config.audio_element.src = config.active_metadata.url;\n                config.audio_element.load();\n        }\n    }\n\n    #disconnectStream(){\n        if( config.active_metadata.live ){\n            config.audio_element.src = \"\";\n            config.audio_element.load();\n        }\n    }\n\n    #playAudio(){\n        let playPromise = config.audio_element.play();\n\n        if( playPromise !== undefined ){\n            playPromise.then(_ => {}).catch(error => {});\n        }\n\n        config.audio_element.playbackRate = config.playback_speed;\n    }\n\n    #pauseAudio(){\n        config.audio_element.pause();\n        config.paused = true;\n    }\n\n    setCurrentTime( seconds ){\n        if ( isFinite( seconds ) ) {\n            config.audio_element.currentTime = seconds;\n        }\n    }\n\n    #setMuted( volumeLevel ){\n        if( volumeLevel == 0 ){\n            config.audio_element.muted = true;\n        }else{\n            config.audio_element.muted = false;\n        }\n    }\n\n    #setAudioVolume( volumeLevel ){\n        config.volume.current = volumeLevel;\n        config.audio_element.volume = ( volumeLevel / 100 );\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { config } from \"@/config\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\n\nexport class GlobalPlayPauseElement{\n    static globalPlayPauseQuery = '.amplitude-play-pause:not([data-amplitude-audio-index]):not([data-amplitude-collection-key])';\n    \n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements()\n        this.#bindInteractions()\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( GlobalPlayPauseElement.globalPlayPauseQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#mobile ){\n                element.removeEventListener(\"touchend\", this.#handleInteraction );\n                element.addEventListener(\"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener(\"click\", this.#handleInteraction );\n                element.addEventListener(\"click\", this.#handleInteraction );\n            }\n        } );\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            let audio = new Audio();\n\n            if( config.audio_element.paused ){\n                audio.play();\n            }else{\n                audio.pause();\n            }\n\n            PlayPauseElement.syncAll();\n        }\n    }\n\n    static syncUI(){\n        let state = ConfigState.getAudioState();\n        let elements = document.querySelectorAll( GlobalPlayPauseElement.globalPlayPauseQuery );\n\n        elements.forEach( ( element ) => {\n            if( state == 'playing' ){\n                PlayPauseElement.setElementPlay( element );\n            }else{\n                PlayPauseElement.setElementPause( element );\n            }\n        })\n    }\n\n    static syncToPause(){\n        let elements = document.querySelectorAll( GlobalPlayPauseElement.globalPlayPauseQuery );\n\n        elements.forEach( (element) => {\n            PlayPauseElement.setElementPause( element );\n        });\n    }\n}","import { config } from \"@/config\";\n\nexport class Checks {\n    static collectionExists( key ){\n\t\tif( config.collections[ key ] ){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic collectionChanged( collection ){\n\t\tif (config.active_collection != collection) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic isCollectionShuffled( collection ){\n        if( config.collections[ collection ].shuffle ){\n            return true;\n        }else{\n            return false;\n        }\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { Checks as CollectionChecks } from \"@/services/Collections/Checks\";\nimport { Navigation as CollectionNavigation } from \"@/services/Collections/Navigation\";\nimport { Debug } from \"@/services/Debug\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { config } from \"@/config\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\n\n/**\n * A Collection Play Pause element is defined by the following:\n * \n * Element: class=\"amplitude-play-pause\" data-amplitude-collection-key=\"{collection_key}\"\n */\nexport class CollectionPlayPauseElement {\n    static collectionPlayPauseQuery = '.amplitude-play-pause[data-amplitude-collection-key]:not([data-amplitude-audio-index])';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements()\n        this.#bindInteractions()\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( CollectionPlayPauseElement.collectionPlayPauseQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {;\n            if( this.#mobile ){\n                element.removeEventListener(\"touchend\", this.#handleInteraction );\n                element.addEventListener(\"touchend\", this.#handleInteraction.bind(this, element) );\n            }else{\n                element.removeEventListener(\"click\", this.#handleInteraction );\n                element.addEventListener(\"click\", this.#handleInteraction.bind(this, element) );\n            }\n        } );\n    }\n\n    #handleInteraction( element ){\n        if( !ConfigState.isTouchMoving() ){\n            let collection = element.getAttribute('data-amplitude-collection-key');\n\n            if( !CollectionChecks.collectionExists( collection ) ){\n                Debug.writeMessage('Collection with key \"'+collection+'\" does not exist! Please define this collection in your configuration.');\n                return false;\n            }\n\n            this.#handleCollectionChanges( collection );\n            this.#toggleAudio();\n\n            PlayPauseElement.syncAll();\n        }\n    }\n\n    #handleCollectionChanges( collection ){\n        if( CollectionChecks.collectionChanged( collection ) ){\n            \n            let collectionNavigation = new CollectionNavigation();\n            collectionNavigation.setActiveCollection( collection );\n\n            // If the collection is shuffled and the collection is changed,\n            // we change the audio to be the first audio in the array. Since,\n            // we are changing the collection, we are starting at the top.\n            if( CollectionChecks.isCollectionShuffled( collection ) ){\n                collectionNavigation.changeAudioCollection(\n                    collection,\n                    config.collections[ collection ].shuffle_list[0],\n                    0,\n                    true\n                );\n            }else{\n                collectionNavigation.changeAudioCollection(\n                    collection,\n                    config.collections[ collection ].audio[0],\n                    0\n                );\n            }\n        }\n    }\n\n    #toggleAudio(){\n        let audio = new Audio();\n\n        if( config.audio_element.paused ){\n            audio.play();\n        }else{\n            audio.pause();\n        }\n    }\n\n    static syncUI(){\n        let state = ConfigState.getAudioState();\n        let elements = document.querySelectorAll( CollectionPlayPauseElement.collectionPlayPauseQuery );\n        let activeCollectionKey = ConfigState.getActiveCollection();\n\n        elements.forEach( ( element ) => {\n            let elementCollectionKey = element.getAttribute('data-amplitude-collection-key');\n\n            if( state == 'playing' && ( activeCollectionKey == elementCollectionKey ) ){\n                PlayPauseElement.setElementPlay( element );\n            }else{\n                PlayPauseElement.setElementPause( element );\n            }\n        })\n    }\n\n    static syncToPause(){\n        let elements = document.querySelectorAll( CollectionPlayPauseElement.collectionPlayPauseQuery );\n\n        elements.forEach( (element) => {\n            PlayPauseElement.setElementPause( element );\n        });\n    }\n}","import { config } from \"@/config\";\n\nexport class Checks {\n    static audioExists( index ){\n        if( config.audio[ index ] ){\n            return true;\n        }else{\n            return false;\n        }\n    }\n\n    static audioChanged( audioIndex, collectionKey = null ){\n\t\tif( config.active_collection != collectionKey ){\n\t\t\treturn true;\n\t\t}else{\n\t\t\tif( config.active_collection == null && collectionKey == null ){\n\t\t\t\tif( config.active_index != audioIndex ){\n\t\t\t\t\treturn true;\n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif( config.active_collection == collection && \n\t\t\t\t\tconfig.collections[ collectionKey ].active_index != audioIndex ){\n\t\t\t\t\t\treturn true;\n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}","import { config } from \"@/config\";\n\nexport class MetaDataElement {\n    static globalMetaDataElementsQuery = '[data-amplitude-audio-info]:not([data-amplitude-audio-index]):not([data-amplitude-collection-key])';\n    static collectionMetaDataElementsQuery = '[data-amplitude-audio-info][data-amplitude-collection-key]:not([data-amplitude-audio-index])';\n    static audioMetaDataElementsQuery = '[data-amplitude-audio-info][data-amplitude-audio-index]:not([data-amplitude-collection-key])';\n    static collectionAudioMetaDataElementsQuery = '[data-amplitude-audio-info][data-amplitude-audio-index][data-amplitude-collection-key]';\n    static collectionInfoElementsQuery = '[data-amplitude-collection-info]';\n\n    #imageMetaDataKeys = [\n        \"cover_art_url\",\n        \"station_art_url\",\n        \"podcast_episode_cover_art_url\",\n        \"album_art_url\"\n    ]\n\n    /**\n     * Gets called after audio has been changed. Updates all of the global\n     * elements and collection elements, not the individual audio elements.\n     * Individual audio elements should only be dynamically set once and not again\n     * since they never change.\n     * \n     * Examples:\n     * Update - Global cover art for a song.\n     * Update - Playlist now playing cover art.\n     * Update - Podcast now playing cover art.\n     * Do Not Update - Individual audio element. These will be set with syncMetaData()\n     * and won't need to be updated again.\n     */\n    displayMetaData(){\n        this.#displayGlobalMetaElements();\n        this.#displayCollectionMetaElements();\n    }\n\n    #displayGlobalMetaElements(){\n        let globalAudioInfoElements = document.querySelectorAll( MetaDataElement.globalMetaDataElementsQuery );\n\n        globalAudioInfoElements.forEach( ( element ) => {\n            let key = element.getAttribute('data-amplitude-audio-info');\n            let value = ( config.active_metadata[ key ] != undefined ) ? config.active_metadata[ key ] : null;\n\n            this.#setMetaValue( key, value, element );\n        });\n    }\n\n    #displayCollectionMetaElements(){\n        let collectionInfoElements = document.querySelectorAll( MetaDataElement.collectionMetaDataElementsQuery );\n\n        collectionInfoElements.forEach( ( element ) => {\n            let key = element.getAttribute('data-amplitude-audio-info');\n            let value = ( config.active_metadata[ key ] != undefined ) ? config.active_metadata[ key ] : null;\n\n            this.#setMetaValue( key, value, element );\n        });\n    }\n    \n    #displayAudioMetaElements(){\n        let audioInfoElements = document.querySelectorAll( MetaDataElement.audioMetaDataElementsQuery );\n\n        audioInfoElements.forEach( ( element ) => {\n            let key = element.getAttribute('data-amplitude-audio-info');\n            let audioIndex = element.getAttribute('data-amplitude-audio-index');\n            let value = config.audio[ audioIndex ][ key ] != undefined ? config.audio[ audioIndex ][ key ] : null;\n\n            this.#setMetaValue( key, value, element );\n        });\n    }\n\n    #displayCollectionAudioMetaElements(){\n        let collectionAudioInfoElements = document.querySelectorAll( MetaDataElement.collectionAudioMetaDataElementsQuery );\n\n        collectionAudioInfoElements.forEach( ( element ) => {\n            let key = element.getAttribute('data-amplitude-audio-info');\n            let audioIndex = element.getAttribute('data-amplitude-audio-index');\n            let collectionKey = element.getAttribute('data-amplitude-collection-key');\n            let value = config.collections[ collectionKey ].audio[ audioIndex ][ info ] != undefined\n                            ? config.collections[ collectionKey ].audio[ audioIndex ][ info ]\n                            : null;\n\n            this.#setMetaValue( key, value, element );\n        });\n    }\n\n    #setMetaValue( key, value, element ){\n        if( this.#imageMetaDataKeys.indexOf( key ) >= 0 ){\n            value = value || config.default_art;\n            element.setAttribute('src', value);\n        }else{\n            value = value || \"\";\n            element.innerHTML = value;\n        }\n    }\n\n    displayCollectionMetaData(){\n\n    }\n\n    syncMetaData(){\n        this.#displayAudioMetaElements();\n        this.#displayCollectionAudioMetaElements();\n        this.displayCollectionMetaData();\n    }\n}","import { config } from \"@/config\";\nimport { ConfigState } from \"@/services/ConfigState\";\n\nexport class AudioContainerElement {\n    static audioContainerElementQuery = '.amplitude-audio-container[data-amplitude-audio-index]:not([data-amplitude-collection-key])';\n    \n    #elements;\n    #activeIndex;\n\n    setActive(){\n        if( ConfigState.getScope() == 'audio' ){\n            this.#findElements();\n            this.#resetElements();\n            this.#getActiveIndex();\n            this.#setActiveContainerElements();\n        }\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( AudioContainerElement.audioContainerElementQuery );\n    }\n\n    #resetElements(){\n        this.#elements.forEach( function( element ){\n            element.classList.remove('amplitude-active-audio-container');\n        });\n    }\n\n    #getActiveIndex(){\n        this.#activeIndex = config.active_index;\n    }\n\n    #setActiveContainerElements(){\n        let activeContainerElements = document.querySelectorAll('.amplitude-audio-container[data-amplitude-audio-index=\"'+this.#activeIndex+'\"]:not([data-amplitude-collection-key])');\n        \n        activeContainerElements.forEach( function( element ){\n            element.classList.add(\"amplitude-active-audio-container\");\n        });\n    }\n}","import { config } from \"@/config\";\nimport { ConfigState } from \"@/services/ConfigState\";\n\nexport class CollectionAudioContainerElement {\n    static collectionAudioContainerElementQuery = '.amplitude-audio-container[data-amplitude-audio-index][data-amplitude-collection-key]';\n\n    #direct;\n    #elements;\n    #activeIndex;\n    #activeCollection;\n\n    constructor( direct ){\n        this.#direct = direct;\n    }\n\n    setActive(){\n        if( ConfigState.getScope() == 'collection' ){\n            this.#findElements();\n            this.#resetElements();\n            this.#getActiveIndex();\n            this.#setActiveContainerElements();\n        }\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( CollectionAudioContainerElement.collectionAudioContainerElementQuery );\n    }\n\n    #resetElements(){\n        this.#elements.forEach( function( element ){\n            element.classList.remove('amplitude-active-audio-container');\n        });\n    }\n\n    #getActiveIndex(){\n        this.#activeCollection = ConfigState.getActiveCollection();\n\n        if( this.#direct ){\n            this.#activeIndex = config.collections[ this.#activeCollection ].active_index;\n        }else{\n            if( ConfigState.isCollectionShuffled( this.#activeCollection ) ){\n                this.#activeIndex = config.collections[ this.#activeCollection ].shuffle_list[\n                    config.collections[ this.#activeCollection ].active_index\n                ].index;\n            }else{\n                this.#activeIndex = config.collections[ this.#activeCollection ].active_index;\n            }\n        }\n    }\n\n    #setActiveContainerElements(){\n        let activeContainerElements = document.querySelectorAll('.amplitude-audio-container[data-amplitude-audio-index=\"'+this.#activeIndex+'\"][data-amplitude-collection-key=\"'+this.#activeCollection+'\"]');\n        activeContainerElements.forEach( function( element ){\n            element.classList.add(\"amplitude-active-audio-container\");\n        });\n    }\n}","import { AudioContainerElement } from \"./ContainerElements/AudioContainerElement\";\nimport { CollectionAudioContainerElement } from \"./ContainerElements/CollectionAudioContainerElement\";\n\nexport class ContainerElement{\n    \n    setActiveContainers( direct ){\n        this.#setActiveAudioContainers();\n        this.#setActiveCollectionAudioContainers( direct );\n    }\n\n    #setActiveAudioContainers(){\n        let audioContainerElements = new AudioContainerElement();\n        audioContainerElements.setActive();\n    }\n\n    #setActiveCollectionAudioContainers( direct ){\n        let collectionAudioContainerElements = new CollectionAudioContainerElement( direct );\n        collectionAudioContainerElements.setActive();\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { config } from \"@/config\";\nimport { Callbacks } from \"@/services/Callbacks\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\nimport { MetaDataElement } from \"@/elements/MetaDataElement\";\nimport { ContainerElement } from \"@/elements/ContainerElement\";\n\nexport class Navigation {\n    /**\n     * Change audio in the audio array\n     *\n     * @prop {object} audio - The audio we are changing to.\n     * @prop {number} index - The index we are changing to.\n     * @prop {boolean} direct - Determines if it was a direct click on the song.\n     * We then don't care if shuffle is on or not.\n     */\n    changeAudio( audio, index, direct = false ){\n        this.#prepareAudioChange( audio );\n\n        this.#switchAudio(audio, index);\n\n        this.#afterAudioChange( direct );\n    }\n\n    #prepareAudioChange( audio ){\n        let coreAudio = new Audio();\n        coreAudio.stop();\n\n        // Sync elements\n        PlayPauseElement.syncAllToPause();\n        /**\n         * @todo Song Slider Elements -> reset\n         * @todo Song Played Progress Elements -> reset\n         * @todo Time Elements -> reset \n         * ( See src/utilities/audioNavigation.js Line #528)\n         */\n        /**\n         * @todo we don't have album change callback, make note.\n         */\n    }\n\n    #switchAudio( audio, index ){\n        config.active_collection = null;\n        config.audio_element.src = audio.url;\n        config.active_metadata = audio;\n        /** \n         * @todo We don't have active_album. make note.\n         */\n         config.active_index = parseInt( index );\n    }\n\n    #afterAudioChange( direct ){\n        this.#updateMetaData();\n\n        let containerElements = new ContainerElement();\n        containerElements.setActiveContainers( direct );\n\n        /**\n         * @todo time elements -> reset duration times\n         * ( see src/utilities/audioNavigation.js Line #558 )\n         */\n        Callbacks.run('audio_change');\n    }\n\n    #updateMetaData(){\n        let metaData = new MetaDataElement();\n        metaData.displayMetaData();\n    }\n}","import { Audio } from '@/core/Audio.js';\nimport { Checks as AudioChecks } from '@/services/Audio/Checks.js';\nimport { Navigation as AudioNavigation } from '@/services/Audio/Navigation.js';\nimport { Checks as CollectionChecks } from '@/services/Collections/Checks.js';\nimport { Navigation as CollectionNavigation } from '@/services/Collections/Navigation.js';\nimport { Debug } from \"@/services/Debug\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { config } from \"@/config\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\n\nexport class AudioPlayPauseElement {\n    static audioPlayPauseQuery = '.amplitude-play-pause[data-amplitude-audio-index]:not([data-amplitude-collection-key])';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( AudioPlayPauseElement.audioPlayPauseQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#mobile ){\n                element.removeEventListener(\"touchend\", this.#handleInteraction );\n                element.addEventListener(\"touchend\", this.#handleInteraction.bind(this, element) );\n            }else{\n                element.removeEventListener(\"click\", this.#handleInteraction );\n                element.addEventListener(\"click\", this.#handleInteraction.bind(this, element) );\n            }\n        } );\n    }\n\n    /**\n     * There can be multiple collections on the page. There can also be multiple\n     * individual audio players and audio players in collections.\n     * \n     * We first check to see if the audio index exists. This can be a game changer\n     * if the user messes up a key.\n     * \n     * Next, we check to see if the collection has changed. Even though, this class\n     * responds to audio that is not a part of a collection, technically the collection\n     * changes if the state of the player is in collection mode and we switch out of collection\n     * mode.\n     * \n     * Finally, we check to see if the audio has changed. This means there is more than\n     * one audio player on the page and the user has switched to a different player. If the\n     * player was in collection mode, this check won't do anything since we change the audio\n     * out of collection mode. This only fires if the player is not in collection mode and\n     * switches to another audio player not in collection mode.\n     * \n     * @returns {boolean|null}\n     */\n    #handleInteraction( element ){\n        if( !ConfigState.isTouchMoving() ){\n            let index = element.getAttribute('data-amplitude-audio-index');\n            \n            if( !AudioChecks.audioExists( index ) ){\n                Debug.writeMessage('Audio with index \"'+index+'\" does not exist! Please add an audio object at this index in your configuration.');\n                return false;\n            }\n\n            this.#handleCollectionChanges( index );\n            this.#handleAudioChanges( index );\n            this.#toggleAudio();\n            \n            PlayPauseElement.syncAll();\n        }\n    }\n\n    #handleCollectionChanges( index ){\n        if( CollectionChecks.collectionChanged( null ) ){\n            let collectionNavigation = new CollectionNavigation();\n            let audioNavigation = new AudioNavigation();\n\n            collectionNavigation.setActiveCollection( null );\n            audioNavigation.changeAudio(\n                config.audio[index], index, true\n            );\n        }\n    }\n\n    #handleAudioChanges( index ){\n        if( AudioChecks.audioChanged( index ) ){\n            let audioNavigation = new AudioNavigation();\n\n            audioNavigation.changeAudio(\n                config.audio[index], index, true\n            );\n        }\n    }\n\n    #toggleAudio(){\n        let audio = new Audio();\n\n        if( config.audio_element.paused ){\n            audio.play();\n        }else{\n            audio.pause();\n        }\n    }\n\n    static syncUI(){\n        let state = ConfigState.getAudioState();\n        let elements = document.querySelectorAll( AudioPlayPauseElement.audioPlayPauseQuery );\n        let activeAudioIndex = ConfigState.getActiveAudioIndex();\n\n        elements.forEach( ( element ) => {\n            let elementAudioIndex = element.getAttribute('data-amplitude-audio-index');\n\n            if( state == 'playing' && ( activeAudioIndex == elementAudioIndex ) ){\n                PlayPauseElement.setElementPlay( element );\n            }else{\n                PlayPauseElement.setElementPause( element );\n            }\n        })\n    }\n\n    static syncToPause(){\n        let elements = document.querySelectorAll( AudioPlayPauseElement.audioPlayPauseQuery );\n\n        elements.forEach( ( element ) => {\n            PlayPauseElement.setElementPause( element );\n        });\n    }\n}","import { Audio } from '@/core/Audio.js';\nimport { Checks as AudioChecks } from '@/services/Audio/Checks.js';\nimport { Checks as CollectionChecks } from '@/services/Collections/Checks.js';\nimport { Navigation as CollectionNavigation } from '@/services/Collections/Navigation.js';\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { config } from \"@/config\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\n\nexport class CollectionAudioPlayPauseElement {\n    static collectionAudioPlayPauseQuery = '.amplitude-play-pause[data-amplitude-audio-index][data-amplitude-collection-key]';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( CollectionAudioPlayPauseElement.collectionAudioPlayPauseQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#mobile ){\n                element.removeEventListener(\"touchend\", this.#handleInteraction );\n                element.addEventListener(\"touchend\", this.#handleInteraction.bind(this, element) );\n            }else{\n                element.removeEventListener(\"click\", this.#handleInteraction );\n                element.addEventListener(\"click\", this.#handleInteraction.bind(this, element) );\n            }\n        } );\n    }\n\n    #handleInteraction( element ){\n        if( !ConfigState.isTouchMoving() ){\n            let collectionKey = element.getAttribute('data-amplitude-collection-key');\n            let audioIndex = element.getAttribute('data-amplitude-audio-index');\n            \n            this.#handleCollectionChanges( collectionKey, audioIndex );\n            this.#handleAudioChanges( collectionKey, audioIndex );\n            this.#toggleAudio();\n\n            PlayPauseElement.syncAll();\n        }\n    }\n\n    #handleCollectionChanges( collectionKey, audioIndex ){\n        if( CollectionChecks.collectionChanged( collectionKey ) ){\n            let collectionNavigation = new CollectionNavigation();\n\n            collectionNavigation.setActiveCollection( collectionKey );\n            collectionNavigation.changeAudioCollection(\n                collectionKey,\n                config.collections[ collectionKey ].audio[audioIndex],\n                audioIndex,\n                true\n            );\n        }\n    }\n\n    #handleAudioChanges( collectionKey, audioIndex ){\n        if( AudioChecks.audioChanged( audioIndex, collectionKey ) ){\n            let collectionNavigation = new CollectionNavigation();\n\n            collectionNavigation.changeAudioCollection(\n                collectionKey,\n                config.collections[ collectionKey ].audio[audioIndex],\n                audioIndex,\n                true\n            );\n        }\n    }\n\n    #toggleAudio(){\n        let audio = new Audio();\n\n        if( config.audio_element.paused ){\n            audio.play();\n        }else{\n            audio.pause();\n        }\n    }\n\n    static syncUI(){\n        let state = ConfigState.getAudioState();\n        let elements = document.querySelectorAll( CollectionAudioPlayPauseElement.collectionAudioPlayPauseQuery );\n        \n        elements.forEach( ( element ) => {\n            if( state == 'playing' ){\n                PlayPauseElement.setElementPlay( element );\n            }else{\n                PlayPauseElement.setElementPause( element );\n            }\n        })\n    }\n\n    static syncToPause(){\n        let elements = document.querySelectorAll( CollectionAudioPlayPauseElement.collectionAudioPlayPauseQuery );\n\n        elements.forEach( ( element ) => {\n            PlayPauseElement.setElementPause( element );\n        });\n    }\n}","import { GlobalPlayPauseElement } from \"./PlayPauseElements/GlobalPlayPauseElement\";\nimport { CollectionPlayPauseElement } from \"./PlayPauseElements/CollectionPlayPauseElement\";\nimport { AudioPlayPauseElement } from \"./PlayPauseElements/AudioPlayPauseElement\";\nimport { CollectionAudioPlayPauseElement } from \"./PlayPauseElements/CollectionAudioPlayPauseElement\";\n\n/**\n * Handles the configuration and managing of Play/Pause elements.\n * \n * A Play Pause element is defined as the following:\n * \n * Element: class=\"amplitude-play-pause\"\n * \n * GLOBAL: class=\"amplitude-play-pause\" \n * Controls the entire state of the audio player. Will play or pause whatever is active.\n * \n * COLLECTION: class=\"amplitude-play-pause\" data-amplitude-collection-key=\"{collection_key}\"\n * Scoped to an individual collection. Will only play or pause within the scope of a collection.\n * \n * AUDIO: class=\"amplitude-play-pause\" data-amplitude-audio-index=\"{audio_index}\"\n * Scoped to an individual audio element. Will only play or pause a specific piece of audio.\n * \n * AUDIO IN COLLECTION: class=\"amplitude-play-pause\" data-amplitude-collection-key=\"{collection_key}\" data-amplitude-audio-index=\"{audio_index}\"\n * Scoped to an individual audio element within a collection. Will only play or pause a specific piece of audio in a collection.\n */\nexport class PlayPauseElement{\n    constructor(){\n\n    }\n\n    setUp(){\n        this.#configureGlobalPlayPauseElement();\n        this.#configureCollectionPlayPauseElement();\n        this.#configureAudioPlayPauseElement();\n        this.#configureCollectionAudioPlayPauseElement();\n    }\n\n    #configureGlobalPlayPauseElement(){\n        let globalPlayPauseElement = new GlobalPlayPauseElement();\n        globalPlayPauseElement.initialize();\n    }\n\n    #configureCollectionPlayPauseElement(){\n        let collectionPlayPauseElement = new CollectionPlayPauseElement();\n        collectionPlayPauseElement.initialize();\n    }\n\n    #configureAudioPlayPauseElement(){\n        let audioPlayPauseElement = new AudioPlayPauseElement();\n        audioPlayPauseElement.initialize();\n    }\n\n    #configureCollectionAudioPlayPauseElement(){\n        let collectionAudioPlayPauseElement = new CollectionAudioPlayPauseElement();\n        collectionAudioPlayPauseElement.initialize();\n    }\n\n    static syncAll(){\n        GlobalPlayPauseElement.syncUI();\n        CollectionPlayPauseElement.syncUI();\n        AudioPlayPauseElement.syncUI();\n        CollectionAudioPlayPauseElement.syncUI();\n    }\n\n    static syncAllToPause(){\n        GlobalPlayPauseElement.syncToPause();\n        CollectionPlayPauseElement.syncToPause();\n        AudioPlayPauseElement.syncToPause();\n        CollectionAudioPlayPauseElement.syncToPause();\n    }\n\n    /**\n     * Sets an element to be playing by removing the 'amplitude-paused' class\n     * and adding the 'amplitude-playing' class\n     *\n     * @access public\n     * @static\n     * @param {element} element - The element getting the playing class added.\n     */\n    static setElementPlay( element ){\n        element.classList.add(\"amplitude-playing\");\n        element.classList.remove(\"amplitude-paused\");\n    }\n\n    /**\n     * Sets an element to be paused by adding the 'amplitude-paused' class\n     * and removing the 'amplitude-playing' class\n     *\n     * @access public\n     * @static\n     * @param {element} element - The element getting the paused class added.\n     */\n    static setElementPause( element ){\n        element.classList.remove(\"amplitude-playing\");\n        element.classList.add(\"amplitude-paused\");\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { config } from \"@/config\";\nimport { Callbacks } from \"@/services/Callbacks\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\nimport { MetaDataElement } from \"@/elements/MetaDataElement\";\nimport { ContainerElement } from \"@/elements/ContainerElement\";\n\nexport class Navigation {\n    /**\n     * Sets the next song in a collection.\n     * \n     * @param {string} collectionKey - The collection to navigate. Defaults to the active collection.\n     * @param {boolean} audioEnded - If the audio ended, this is true to take in effect the repeat setting.\n     */\n    next( collectionKey = null, audioEnded = false ){\n        if( !collectionKey ){\n            collectionKey = config.active_collection;\n        }\n\n        let nextAudio = this.#findNextAudio( collectionKey );\n        \n        this.setActiveCollection( collectionKey );\n        this.changeCollectionAudio( collectionKey, nextAudio.audio, nextAudio.index );\n        this.#playNextAudio( nextAudio.end, audioEnded )\n        \n        PlayPauseElement.syncAll();\n        Callbacks.run(\"next\");\n\n        if( config.repeat_audio ){\n            Callbacks.run(\"audio_repeated\");\n        }\n    }\n\n    #findNextAudio( collectionKey ){\n        if( config.repeat_audio ){\n            return this.#repeatedAudio( collectionKey );\n        }else{\n            if( config.collections[ collectionKey ].shuffle ){\n                return this.#nextShuffledAudio( collectionKey );\n            }else{\n                return this.#nextCollectionAudio( collectionKey );\n            }\n        }\n    }\n\n    #repeatedAudio( collectionKey ){\n        let index =  config.collections[ collectionKey ].active_index;\n\n        return {\n            'index': nextIndex,\n            'audio': config.collections[ collectionKey ].shuffle ?\n                     config.collections[ collectionKey ].shuffle_list[ index ] :\n                     config.collections[ collectionKey ].audio[ index ],\n            'end': false\n        }\n    }\n\n    #nextShuffledAudio( collectionKey ){\n        let nextIndex = null;\n        let endOfList = false;\n\n        let activeIndex = config.collections[ collectionKey ].active_index;\n        let shuffleCollectionLength = config.collections[ collectionKey ].shuffle_list.length;\n       \n        if( parseInt( activeIndex + 1 ) < shuffleCollectionLength ){\n            nextIndex = parseInt( activeIndex + 1 );    \n        }else{\n            nextIndex = 0;\n            endOfList = true;\n        }\n\n        return {\n            'index': nextIndex,\n            'audio': config.collections[ collectionKey ].shuffleList[ nextIndex ],\n            'end': endOfList\n        }\n    }\n\n    #nextCollectionAudio( collectionKey ){\n        let nextIndex = null;\n        let endOfList = false;\n        \n        let activeIndex = config.collections[ collectionKey ].active_index;\n        let collectionLength = config.collections[ collectionKey ].audio.length;\n\n        if( parseInt( activeIndex + 1 ) < collectionLength ){\n            nextIndex = parseInt( activeIndex + 1 );\n        }else{\n            nextIndex = 0;\n            endOfList = true;\n        }\n\n        return {\n            'index': nextIndex,\n            'audio': config.collections[ collectionKey ].audio[ nextIndex ],\n            'end': endOfList\n        }\n    }\n\n    #playNextAudio( endOfList, audioEnded ){\n        // If it's the end of the collection and we aren't repeating, do nothing.\n        if( endOfList && !config.repeat_audio ){\n        }else{\n            if( !( audioEnded && !config.repeat_audio && endOfList ) ){\n                let audio = new Audio();\n                audio.play();\n            }\n        }\n    }\n\n    previous( collectionKey = null ){\n        if( !collectionKey ){\n            collectionKey = config.active_collection;\n        }\n\n        let previousAudio = this.#findPreviousAudio( collectionKey );\n        \n        this.setActiveCollection( collectionKey );\n        this.changeCollectionAudio( collectionKey, previousAudio.audio, previousAudio.index );\n        \n        let audio = new Audio();\n        audio.play();\n        \n        PlayPauseElement.syncAll();\n        Callbacks.run(\"previous\");\n\n        if( config.repeat_audio ){\n            Callbacks.run(\"audio_repeated\");\n        }\n    }\n\n    #findPreviousAudio(){\n        if( config.repeat_audio ){\n            return this.#repeatedAudio( collectionKey );\n        }else{\n            if( config.collections[ collectionKey ].shuffle ){\n                return this.#previousShuffledAudio( collectionKey );\n            }else{\n                return this.#previousCollectionAudio( collectionKey );\n            }\n        }\n    }\n\n    #previousShuffledAudio( collectionKey ){\n        let previousIndex = null;\n\n        let activeIndex = config.collections[ collectionKey ].active_index;\n        let shuffleCollectionLength = config.collections[ collectionKey ].shuffle_list.length;\n        \n        if( parseInt( activeIndex - 1 ) >= 0 ){\n            previousIndex =  parseInt( activeIndex - 1 );\n        }else{\n            previousIndex = parseInt( shuffleCollectionLength - 1 );\n        }\n\n        return {\n            'index': previousIndex,\n            'audio': config.collections[ collectionKey ].shuffleList[ previousIndex ]\n        }\n    }\n\n    #previousCollectionAudio( collectionKey ){\n        let previousIndex = null;\n\n        let activeIndex = config.collections[ collectionKey ].active_index;\n        let collectionLength = config.collections[ collectionKey ].audio.length;\n        \n        if( parseInt( activeIndex - 1 ) >= 0 ){\n            previousIndex =  parseInt( activeIndex - 1 );\n        }else{\n            previousIndex = parseInt( collectionLength - 1 );\n        }\n\n        return {\n            'index': previousIndex,\n            'audio': config.collections[ collectionKey ].audio[ previousIndex ]\n        }\n    }\n\n    setActiveCollection( collection ){\n        if( config.active_collection != collection ){\n            Callbacks.run(\"collection_changed\");\n\n            config.active_collection = collection;\n\n            if( collection != null ){\n                config.collections[ collection ].active_index = 0;\n            }\n        }\n    }\n\n    /**\n     * Handles audio change in a collection\n     *\n     * @prop {string} collection - The collection we are changing the song on.\n     * @prop {object} audio - The audio object we are changing to in the collection.\n     * @prop {number} index - The index of the song we are changing to in the collection.\n     * @prop {boolean} direct - Determines if it was a direct click on the song. We\n     * then don't care if shuffle is on or not\n     */\n    changeAudioCollection( collection, audio, index, direct ){\n        this.#prepareAudioChange( audio );\n\n        this.#switchAudio( collection, audio, index );\n\n        this.#afterAudioChange( direct );\n    }\n\n    #prepareAudioChange( audio ){\n        Audio.stop();\n\n        // Sync elements\n        PlayPauseElement.syncAllToPause();\n        /**\n         * @todo Song Slider Elements -> reset\n         * @todo Song Played Progress Elements -> reset\n         * @todo Time Elements -> reset \n         * ( See src/utilities/audioNavigation.js Line #528)\n         */\n        /**\n         * @todo we don't have album change callback, make note.\n         */\n    }\n\n    #switchAudio( collection, audio, index ){\n        config.audio_element = audio.url;\n        config.active_metadata = audio;\n        /** \n         * @todo We don't have active_album. make note.\n         */\n        config.active_index = null;\n        config.collections[collection].active_index = parseInt(index);\n    }\n\n    #afterAudioChange( direct ){\n        this.#updateMetaData();\n\n        let containerElements = new ContainerElement();\n        containerElements.setActiveContainers( direct );\n        \n        /**\n\n         * @todo time elements -> reset duration times\n         * ( see src/utilities/audioNavigation.js Line #558 )\n         */\n        Callbacks.run('audio_change');\n    }\n\n    #updateMetaData(){\n        let metaData = new MetaDataElement();\n        metaData.displayMetaData();\n    }\n}","import { Audio } from '@/core/Audio.js';\nimport { config } from '@/config.js';\nimport { ConfigState } from '@/services/ConfigState';\nimport { Navigation } from '@/services/Collections/Navigation';\nimport { PlayPauseElement } from '@/elements/PlayPauseElement';\n\nexport class AudioEndedEvent{\n    bind(){\n        config.audio_element.removeEventListener( \"ended\", this.#handle );\n        config.audio_element.addEventListener( \"ended\", this.#handle.bind(this) );\n    }\n\n    #handle(){\n        setTimeout( function(){\n            if( ConfigState.getScope() == 'collection' && ConfigState.getContinueNext() ){\n                let navigation = new Navigation();\n                navigation.next( ConfigState.getActiveCollection(), true );\n            }else{\n                let audio = new Audio();\n                audio.stop();\n\n                PlayPauseElement.syncAll();\n            }\n        }, config.delay );\n    }\n}","export class KeyBindingEvents{\n    bind(){\n        this.#bindKeyPress();\n    }\n\n    #bindKeyPress(){\n        document.removeEventListener( \"keydown\", this.#handle.bind(this) );\n        document.addEventListener( \"keydown\", this.#handle.bind(this) );\n    }\n\n    #handle( event ){\n        if( !this.#isFormFocused() ){\n            let key = event.key;\n              \n        }\n    }\n\n    #isFormFocused(){\n        let activeElement = document.activeElement.tagName.toLowerCase();\n\n        let ignoredElements = [\n            'input',\n            'textarea',\n            'select',\n            'checkbox',\n        ];\n\n        return ignoredElements.indexOf( activeElement ) > -1;\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\nimport { config } from '@/config.js';\n\nexport class GlobalBufferedProgressElement{\n    static globalBufferedProgressQuery = 'progress.amplitude-buffered-progress:not([data-amplitude-audio-index]):not([data-amplitude-collection-key])';\n\n    static syncUI(){\n        let elements = document.querySelectorAll( GlobalBufferedProgressElement.globalBufferedProgressQuery );\n\n        elements.forEach( function( element ){\n            if( !isNaN( config.buffered ) ){\n                element.value = parseFloat(\n                    ConfigState.getBufferedPercentage()\n                );\n            }\n        } );\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\nimport { config } from '@/config.js';\n\nexport class CollectionBufferedProgressElement{\n    static syncUI(){\n        let activeCollection = ConfigState.getActiveCollection();\n        let elements = document.querySelectorAll('progress.amplitude-buffered-progress[data-amplitude-collection-key=\"'+activeCollection+'\"]:not([data-amplitude-audio-index])');\n\n        elements.forEach( function( element ){\n            if( !isNaN( config.buffered ) ){\n                element.value = parseFloat(\n                    ConfigState.getBufferedPercentage()\n                );\n            }\n        });\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\nimport { config } from '@/config.js';\n\nexport class AudioBufferedProgressElement{\n    static audioBufferedProgressQuery = 'progress.amplitude-buffered-progress[data-amplitude-audio-index]:not([data-amplitude-collection-key])';\n\n    static syncUI(){\n        let activeIndex = ConfigState.getActiveAudioIndex();\n        let elements = document.querySelectorAll('progress.amplitude-buffered-progress[data-amplitude-audio-index=\"'+activeIndex+'\"]:not([data-amplitude-collection-key])');\n\n        elements.forEach( function( element ){\n            if( !isNaN( config.buffered ) ){\n                element.value = parseFloat(\n                    ConfigState.getBufferedPercentage()\n                );\n            }\n        });\n    }\n}","import { GlobalBufferedProgressElement } from \"./BufferedProgressElements/GlobalBufferedProgressElement\";\nimport { CollectionBufferedProgressElement } from \"./BufferedProgressElements/CollectionBufferedProgressElement\";\nimport { CollectionAudioBufferedProgressElement } from './BufferedProgressElements/CollectionAudioBufferedProgressElement';\nimport { AudioBufferedProgressElement } from \"./BufferedProgressElements/AudioBufferedProgressElement\";\n\nexport class BufferedProgressElement{\n    static syncAll(){\n        GlobalBufferedProgressElement.syncUI();\n        CollectionBufferedProgressElement.syncUI();\n        AudioBufferedProgressElement.syncUI();\n        CollectionAudioBufferedProgressElement.syncUI();\n    }\n}","export class GlobalProgressElement{\n    static globalProgressQuery = 'progress.amplitude-audio-played-progress:not([data-amplitude-audio-index]):not([data-amplitude-collection-key])';\n\n    static syncUI( completionPercentage ){\n        if( !isNaN( completionPercentage ) && isFinite( completionPercentage ) ){\n            let elements = document.querySelectorAll( GlobalProgressElement.globalProgressQuery );\n\n            elements.forEach( ( element ) => {\n                let max = element.max;\n\n                element.value = ( completionPercentage / 100 ) * max;\n            });\n        }\n    }\n}","import { ConfigState } from '@/services/ConfigState';\n\nexport class CollectionProgressElement{\n    static collectionProgressQuery = 'progress.amplitude-audio-played-progress[data-amplitude-collection-key]:not([data-amplitude-audio-index])';\n\n    static syncUI( completionPercentage ){\n        if( !isNaN( completionPercentage ) && isFinite( completionPercentage ) ){\n            let elements = document.querySelectorAll( CollectionProgressElement.collectionProgressQuery );\n            let activeCollectionKey = ConfigState.getActiveCollection();\n\n            elements.forEach( ( element ) => {\n                let elementCollectionKey = element.getAttribute('data-amplitude-collection-key');\n                let max = element.max;\n\n                if( activeCollectionKey == elementCollectionKey ){\n                    element.value = ( completionPercentage / 100 ) * max;\n                }else{\n                    element.value = 0;\n                }\n            });\n        }\n    }\n}","import { ConfigState } from '@/services/ConfigState';\n\nexport class AudioProgressElement{\n    static audioProgressQuery = 'progress.amplitude-audio-played-progress[data-amplitude-audio-index]:not([data-amplitude-collection-key])';\n\n    static syncUI( completionPercentage ){\n        if( !isNaN( completionPercentage ) && isFinite( completionPercentage ) ){\n            let elements = document.querySelectorAll( AudioProgressElement.audioProgressQuery );\n            let activeAudioIndex = ConfigState.getActiveAudioIndex();\n\n            elements.forEach( ( element ) => {\n                let elementAudioIndex = element.getAttribute('data-amplitude-audio-index');\n                let max = element.max;\n\n                if( activeAudioIndex == elementAudioIndex ){\n                    element.value = ( completionPercentage / 100 ) * max;\n                }else{\n                    element.value = 0;\n                }\n            });\n        }\n    }\n}","import { ConfigState } from '@/services/ConfigState';\n\nexport class CollectionAudioProgressElement{\n    static collectionAudioProgressQuery = 'progress.amplitude-audio-played-progress[data-amplitude-collection-key][data-amplitude-audio-index]';\n\n    static syncUI( completionPercentage ){\n        if( !isNaN( completionPercentage ) && isFinite( completionPercentage ) ){\n            let elements = document.querySelectorAll( CollectionAudioProgressElement.collectionAudioProgressQuery );\n            let activeCollectionKey = ConfigState.getActiveCollection();\n            let activeAudioIndex = ConfigState.getActiveAudioIndex();\n\n            elements.forEach( ( element ) => {\n                let elementCollectionKey = element.getAttribute('data-amplitude-collection-key');\n                let elementAudioIndex = element.getAttribute('data-amplitude-audio-index');\n                let max = element.max;\n\n                if( ( activeCollectionKey == elementCollectionKey ) && ( activeAudioIndex == elementAudioIndex ) ){\n                    element.value = ( completionPercentage / 100 ) * max;\n                }else{\n                    element.value = 0;\n                }\n            });\n        }\n    }\n}","import { GlobalProgressElement } from \"./ProgressElements/GlobalProgressElement\";\nimport { CollectionProgressElement } from \"./ProgressElements/CollectionProgressElement\";\nimport { AudioProgressElement } from \"./ProgressElements/AudioProgressElement\";\nimport { CollectionAudioProgressElement } from \"./ProgressElements/CollectionAudioProgressElement\";\n\nexport class ProgressElement{\n    constructor(){\n\n    }\n\n    static syncCurrentTime( percentage ){\n        GlobalProgressElement.syncUI( percentage );\n        CollectionProgressElement.syncUI( percentage );\n        AudioProgressElement.syncUI( percentage );\n        CollectionAudioProgressElement.syncUI( percentage );\n    }\n}","import { config } from \"@/config\";\n\nexport class Time {\n    static percentageInSeconds( percentage ){\n        return config.audio_element.duration * (percentage / 100);\n    }\n\n    computeCurrentTimes(){\n        let currentTime = {};\n\n        currentTime.seconds = this.#findCurrentSeconds();\n        currentTime.minutes = this.#findCurrentMinutes();\n        currentTime.hours = this.#findCurrentHours();\n\n        return currentTime;\n    }\n\n    #findCurrentSeconds(){\n        let seconds = ( Math.floor( config.audio_element.currentTime % 60 ) < 10 ? \"0\" : \"\" ) +\n                            Math.floor( config.audio_element.currentTime % 60 );\n\n        return seconds;\n    }\n\n    #findCurrentMinutes(){\n        let minutes = Math.floor( config.audio_element.currentTime / 60 );\n\n        if( minutes < 10 ){\n            minutes = \"0\"+minutes;\n        }\n\n        return minutes;\n    }\n\n    #findCurrentHours(){\n        let hours = Math.floor( config.audio_element.currentTime / 3600 );\n\n        if( hours < 10 ){\n            hours = \"0\"+hours;\n        }\n\n        return hours;\n    }\n\n    computeAudioCompletionPercentage(){\n        return ( config.audio_element.currentTime / config.audio_element.duration ) * 100;\n    }\n\n    computeAudioDuration(){\n        let audioDuration = {};\n\n        audioDuration.seconds = this.#findAudioDurationSeconds();\n        audioDuration.minutes = this.#findAudioDurationMinutes();\n        audioDuration.hours = this.#findAudioDurationHours();\n\n        return audioDuration;\n    }\n\n    #findAudioDurationSeconds(){\n        let seconds = ( Math.floor( config.audio_element.duration % 60 ) < 10 ? \"0\" : \"\" ) +\n                        Math.floor( config.audio_element.duration % 60 );\n\n        return seconds;\n    }\n\n    #findAudioDurationMinutes(){\n        let minutes = Math.floor( config.audio_element.duration / 60 );\n\n        if( minutes < 10 ){\n            minutes = \"0\"+minutes;\n        }\n\n        return minutes;\n    }\n\n    #findAudioDurationHours(){\n        let hours = Math.floor( config.audio_element.duration / 3600 );\n\n        if( hours < 10 ){\n            hours = \"0\"+hours;\n        }\n\n        return hours;\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\n\nexport class GlobalCurrentTimeElement {\n    static globalFormattedTimeElementQuery = '.amplitude-current-time:not([data-amplitude-audio-index]):not([data-amplitude-collection-key])';\n    static globalHoursTimeElementQuery = '.amplitude-current-hours:not([data-amplitude-audio-index]):not([data-amplitude-collection-key])';\n    static globalMinutesTimeElementQuery = '.amplitude-current-minutes:not([data-amplitude-audio-index]):not([data-amplitude-collection-key])';\n    static globalSecondsTimeElementQuery = '.amplitude-current-seconds:not([data-amplitude-audio-index]):not([data-amplitude-collection-key])';\n    \n    #currentTime;\n\n    constructor( currentTime ){\n        this.#currentTime = currentTime\n    }\n    \n    sync(){\n        this.#syncFormattedTimeElement();\n        this.#syncHourTimeElement();\n        this.#syncMinuteTimeElement();\n        this.#syncSecondTimeElement();\n    }\n\n    #syncFormattedTimeElement(){\n        let timeFormat = ConfigState.getTimeFormat();\n\n        let elements = document.querySelectorAll( GlobalCurrentTimeElement.globalFormattedTimeElementQuery );\n        let formattedTime = timeFormat.replace( 'HH', this.#currentTime.hours )\n                                      .replace( 'MM', this.#currentTime.minutes )\n                                      .replace( 'SS', this.#currentTime.seconds );\n\n        elements.forEach( ( element ) => {\n            element.innerHTML = formattedTime;\n        });\n    }\n\n    #syncHourTimeElement(){\n        let elements = document.querySelectorAll( GlobalCurrentTimeElement.globalHoursTimeElementQuery );\n\n        elements.forEach( ( element ) => {\n            element.innerHTML = this.#currentTime.hours;\n        });\n    }\n\n    #syncMinuteTimeElement(){\n        let elements = document.querySelectorAll( GlobalCurrentTimeElement.globalMinutesTimeElementQuery );\n\n        elements.forEach( ( element ) => {\n            element.innerHTML = this.#currentTime.minutes;\n        });\n    }\n\n    #syncSecondTimeElement(){\n        let elements = document.querySelectorAll( GlobalCurrentTimeElement.globalSecondsTimeElementQuery );\n\n        elements.forEach( ( element ) => {\n            element.innerHTML = this.#currentTime.seconds;\n        });\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\n\nexport class CollectionCurrentTimeElement {\n    static collectionFormattedTimeElementQuery = '.amplitude-current-time[data-amplitude-collection-key]:not([data-amplitude-audio-index])';\n    static collectionHoursTimeElementQuery = '.amplitude-current-hours[data-amplitude-collection-key]:not([data-amplitude-audio-index])';\n    static collectionMinutesTimeElementQuery = '.amplitude-current-minutes[data-amplitude-collection-key]:not([data-amplitude-audio-index])';\n    static collectionSecondsTimeElementQuery = '.amplitude-current-seconds[data-amplitude-collection-key]:not([data-amplitude-audio-index])';\n\n    #currentTime;\n\n    constructor( currentTime ){\n        this.#currentTime = currentTime;\n    }\n\n    sync(){\n        this.#syncFormattedTimeElement();\n        this.#syncHourTimeElement();\n        this.#syncMinuteTimeElement();\n        this.#syncSecondTimeElement();\n    }\n\n    #syncFormattedTimeElement(){\n        let timeFormat = ConfigState.getTimeFormat();\n        let activeCollectionKey = ConfigState.getActiveCollection();\n\n        let elements = document.querySelectorAll( CollectionCurrentTimeElement.collectionFormattedTimeElementQuery );\n        let formattedTime = timeFormat.replace( 'HH', this.#currentTime.hours )\n                                      .replace( 'MM', this.#currentTime.minutes )\n                                      .replace( 'SS', this.#currentTime.seconds );\n        \n        elements.forEach( ( element ) => {\n            let elementCollectionKey = element.getAttribute('data-amplitude-collection-key');\n\n            if( activeCollectionKey == elementCollectionKey ){\n                element.innerHTML = formattedTime;\n            }else{\n                element.innerHTML = '00:00';\n            }\n        })\n    }\n\n    #syncHourTimeElement(){\n        let elements = document.querySelectorAll( CollectionCurrentTimeElement.collectionHoursTimeElementQuery );\n        let activeCollectionKey = ConfigState.getActiveCollection();\n\n        elements.forEach( ( element ) => {\n            let elementCollectionKey = element.getAttribute('data-amplitude-collection-key');\n\n            if( activeCollectionKey == elementCollectionKey ){\n                element.innerHTML = this.#currentTime.hours;\n            }else{\n                element.innerHTML = '00';\n            }\n        });\n    }\n\n    #syncMinuteTimeElement(){\n        let elements = document.querySelectorAll( CollectionCurrentTimeElement.collectionMinutesTimeElementQuery );\n        let activeCollectionKey = ConfigState.getActiveCollection();\n\n        elements.forEach( ( element ) => {\n            let elementCollectionKey = element.getAttribute('data-amplitude-collection-key');\n\n            if( activeCollectionKey == elementCollectionKey ){\n                element.innerHTML = this.#currentTime.minutes;\n            }else{\n                element.innerHTML = '00';\n            }\n        });\n    }\n\n    #syncSecondTimeElement(){\n        let elements = document.querySelectorAll( CollectionCurrentTimeElement.collectionSecondsTimeElementQuery );\n        let activeCollectionKey = ConfigState.getActiveCollection();\n\n        elements.forEach( ( element ) => {\n            let elementCollectionKey = element.getAttribute('data-amplitude-collection-key');\n\n            if( activeCollectionKey == elementCollectionKey ){\n                element.innerHTML = this.#currentTime.seconds;\n            }else{\n                element.innerHTML = '00';\n            }\n        });\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\n\nexport class AudioCurrentTimeElement {\n    static audioFormattedTimeElementQuery = '.amplitude-current-time[data-amplitude-audio-index]:not([data-amplitude-collection-key])';\n    static audioHoursTimeElementQuery = '.amplitude-current-hours[data-amplitude-audio-index]:not([data-amplitude-collection-key])';\n    static audioMinutesTimeElementQuery = '.amplitude-current-minutes[data-amplitude-audio-index]:not([data-amplitude-collection-key])';\n    static audioSecondsTimeElementQuery = '.amplitude-current-seconds[data-amplitude-audio-index]:not([data-amplitude-collection-key])';\n\n    #currentTime;\n\n    constructor( currentTime ){\n        this.#currentTime = currentTime;\n    }\n\n    sync(){\n        this.#syncFormattedTimeElement();\n        this.#syncHourTimeElement();\n        this.#syncMinuteTimeElement();\n        this.#syncSecondTimeElement();\n    }\n\n    #syncFormattedTimeElement(){\n        let timeFormat = ConfigState.getTimeFormat();\n        let activeAudioIndex = ConfigState.getActiveAudioIndex();\n\n        let elements = document.querySelectorAll( AudioCurrentTimeElement.audioFormattedTimeElementQuery );\n        let formattedTime = timeFormat.replace( 'HH', this.#currentTime.hours )\n                                      .replace( 'MM', this.#currentTime.minutes )\n                                      .replace( 'SS', this.#currentTime.seconds );\n        \n        elements.forEach( ( element ) => {\n            let elementAudioIndex = element.getAttribute('data-amplitude-audio-index');\n\n            if( activeAudioIndex == elementAudioIndex ){\n                element.innerHTML = formattedTime;\n            }else{\n                element.innerHTML = '00:00';\n            }\n        })\n    }\n\n    #syncHourTimeElement(){\n        let elements = document.querySelectorAll( AudioCurrentTimeElement.audioHoursTimeElementQuery );\n        let activeAudioIndex = ConfigState.getActiveAudioIndex();\n\n        elements.forEach( ( element ) => {\n            let elementAudioIndex = element.getAttribute('data-amplitude-audio-index');\n\n            if( activeAudioIndex == elementAudioIndex ){\n                element.innerHTML = this.#currentTime.hours;\n            }else{\n                element.innerHTML = '00';\n            }\n        });\n    }\n\n    #syncMinuteTimeElement(){\n        let elements = document.querySelectorAll( AudioCurrentTimeElement.audioMinutesTimeElementQuery );\n        let activeAudioIndex = ConfigState.getActiveAudioIndex();\n\n        elements.forEach( ( element ) => {\n            let elementAudioIndex = element.getAttribute('data-amplitude-audio-index');\n\n            if( activeAudioIndex == elementAudioIndex ){\n                element.innerHTML = this.#currentTime.minutes;\n            }else{\n                element.innerHTML = '00';\n            }\n        });\n    }\n\n    #syncSecondTimeElement(){\n        let elements = document.querySelectorAll( AudioCurrentTimeElement.audioSecondsTimeElementQuery );\n        let activeAudioIndex = ConfigState.getActiveAudioIndex();\n\n        elements.forEach( ( element ) => {\n            let elementAudioIndex = element.getAttribute('data-amplitude-audio-index');\n\n            if( activeAudioIndex == elementAudioIndex ){\n                element.innerHTML = this.#currentTime.seconds;\n            }else{\n                element.innerHTML = '00';\n            }\n        });\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\n\nexport class CollectionAudioCurrentTimeElement {\n    static collectionAudioFormattedTimeElementQuery = '.amplitude-current-time[data-amplitude-collection-key][data-amplitude-audio-index]';\n    static collectionAudioHoursTimeElementQuery = '.amplitude-current-hours[data-amplitude-collection-key][data-amplitude-audio-index]';\n    static collectionAudioMinutesTimeElementQuery = '.amplitude-current-minutes[data-amplitude-collection-key][data-amplitude-audio-index]';\n    static collectionAudioSecondsTimeElementQuery = '.amplitude-current-seconds[data-amplitude-collection-key][data-amplitude-audio-index]';\n\n    #currentTime;\n\n    constructor( currentTime ){\n        this.#currentTime = currentTime;\n    }\n\n    sync(){\n        this.#syncFormattedTimeElement();\n        this.#syncHourTimeElement();\n        this.#syncMinuteTimeElement();\n        this.#syncSecondTimeElement();\n    }\n\n    #syncFormattedTimeElement(){\n        let timeFormat = ConfigState.getTimeFormat();\n        let activeCollectionKey = ConfigState.getActiveCollection();\n        let activeAudioIndex = ConfigState.getActiveAudioIndex();\n\n        let elements = document.querySelectorAll( CollectionAudioCurrentTimeElement.collectionAudioFormattedTimeElementQuery );\n        let formattedTime = timeFormat.replace( 'HH', this.#currentTime.hours )\n                                      .replace( 'MM', this.#currentTime.minutes )\n                                      .replace( 'SS', this.#currentTime.seconds );\n        \n        elements.forEach( ( element ) => {\n            let elementCollectionKey = element.getAttribute('data-amplitude-collection-key');\n            let elementAudioIndex = element.getAttribute('data-amplitude-audio-index');\n\n            if( ( activeCollectionKey == elementCollectionKey ) && ( activeAudioIndex == elementAudioIndex ) ){\n                element.innerHTML = formattedTime;\n            }else{\n                element.innerHTML = '00:00';\n            }\n        })\n    }\n\n    #syncHourTimeElement(){\n        let elements = document.querySelectorAll( CollectionAudioCurrentTimeElement.collectionAudioHoursTimeElementQuery );\n        let activeCollectionKey = ConfigState.getActiveCollection();\n        let activeAudioIndex = ConfigState.getActiveAudioIndex();\n\n        elements.forEach( ( element ) => {\n            let elementCollectionKey = element.getAttribute('data-amplitude-collection-key');\n            let elementAudioIndex = element.getAttribute('data-amplitude-audio-index');\n\n            if( ( activeCollectionKey == elementCollectionKey ) && ( activeAudioIndex == elementAudioIndex ) ){\n                element.innerHTML = this.#currentTime.hours;\n            }else{\n                element.innerHTML = '00';\n            }\n        });\n    }\n\n    #syncMinuteTimeElement(){\n        let elements = document.querySelectorAll( CollectionAudioCurrentTimeElement.collectionAudioMinutesTimeElementQuery );\n        let activeCollectionKey = ConfigState.getActiveCollection();\n        let activeAudioIndex = ConfigState.getActiveAudioIndex();\n\n        elements.forEach( ( element ) => {\n            let elementCollectionKey = element.getAttribute('data-amplitude-collection-key');\n            let elementAudioIndex = element.getAttribute('data-amplitude-audio-index');\n\n            if( ( activeCollectionKey == elementCollectionKey ) && ( activeAudioIndex == elementAudioIndex ) ){\n                element.innerHTML = this.#currentTime.minutes;\n            }else{\n                element.innerHTML = '00';\n            }\n        });\n    }\n\n    #syncSecondTimeElement(){\n        let elements = document.querySelectorAll( CollectionAudioCurrentTimeElement.collectionAudioSecondsTimeElementQuery );\n        let activeCollectionKey = ConfigState.getActiveCollection();\n        let activeAudioIndex = ConfigState.getActiveAudioIndex();\n\n        elements.forEach( ( element ) => {\n            let elementCollectionKey = element.getAttribute('data-amplitude-collection-key');\n            let elementAudioIndex = element.getAttribute('data-amplitude-audio-index');\n\n            if( ( activeCollectionKey == elementCollectionKey ) && ( activeAudioIndex == elementAudioIndex ) ){\n                element.innerHTML = this.#currentTime.seconds;\n            }else{\n                element.innerHTML = '00';\n            }\n        });\n    }\n}","import { GlobalCurrentTimeElement } from \"./TimeElements/CurrentTime/GlobalCurrentTimeElement\";\nimport { CollectionCurrentTimeElement } from \"./TimeElements/CurrentTime/CollectionCurrentTimeElement\";\nimport { AudioCurrentTimeElement } from \"./TimeElements/CurrentTime/AudioCurrentTimeElement\";\nimport { CollectionAudioCurrentTimeElement } from \"./TimeElements/CurrentTime/CollectionAudioCurrentTimeElement\";\n\nimport { GlobalDurationElement } from \"./TimeElements/Duration/GlobalDurationElement\";\nimport { CollectionDurationElement } from \"./TimeElements/Duration/CollectionDurationElement\";\nimport { AudioDurationElement } from \"./TimeElements/Duration/AudioDurationElement\";\nimport { CollectionAudioDurationElement } from \"./TimeElements/Duration/CollectionAudioDurationElement\";\n\nexport class TimeElement {\n    syncCurrentTime( currentTime ){\n        let globalCurrentTimeElement = new GlobalCurrentTimeElement( currentTime );\n        globalCurrentTimeElement.sync();\n\n        let collectionCurrentTimeElement = new CollectionCurrentTimeElement( currentTime );\n        collectionCurrentTimeElement.sync();\n\n        let audioCurrentTimeElement = new AudioCurrentTimeElement( currentTime );\n        audioCurrentTimeElement.sync();\n\n        let collectionAudioCurrentTimeElement = new CollectionAudioCurrentTimeElement( currentTime );\n        collectionAudioCurrentTimeElement.sync();\n    }\n\n    syncDurationTime(){\n\n    }\n\n    resetDurationTime(){\n\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from '@/services/ConfigState';\nimport { Time } from '@/services/Time';\n\nexport class GlobalTrackerElement{\n    static globalTrackerQuery = 'input[type=\"range\"].amplitude-audio-tracker:not([data-amplitude-audio-index]):not([data-amplitude-collection-key])';\n\n    #elements;\n    #isIE;\n\n    constructor(){\n        this.#isIE = ConfigState.isIE();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( GlobalTrackerElement.globalTrackerQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#isIE ){\n                element.removeEventListener(\"change\", this.#handleInteraction );\n                element.addEventListener(\"change\", this.#handleInteraction.bind( this, element ) );\n            }else{\n                element.removeEventListener(\"input\", this.#handleInteraction);\n                element.addEventListener(\"input\", this.#handleInteraction.bind( this, element ) );\n            }\n        } );\n    }\n\n    #handleInteraction( element ){\n        if( !ConfigState.isLive() ){\n            let locationPercentage = element.value;\n            let trackedLocation = Time.percentageInSeconds( locationPercentage );\n            \n            let audio = new Audio();\n            audio.setCurrentTime( trackedLocation )\n        }\n    }\n\n    static syncUI( completionPercentage ){\n        let elements = document.querySelectorAll( GlobalTrackerElement.globalTrackerQuery );\n\n        elements.forEach( ( element ) => {\n            element.value = completionPercentage;\n        });\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from '@/services/ConfigState';\nimport { Time } from '@/services/Time';\n\nexport class CollectionTrackerElement{\n    static collectionTrackerQuery = 'input[type=\"range\"].amplitude-audio-tracker[data-amplitude-collection-key]:not([data-amplitude-audio-index])';\n\n    #elements;\n    #isIE;\n\n    constructor(){\n        this.#isIE = ConfigState.isIE();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( CollectionTrackerElement.collectionTrackerQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#isIE ){\n                element.removeEventListener(\"change\", this.#handleInteraction );\n                element.addEventListener(\"change\", this.#handleInteraction.bind( this, element ) );\n            }else{\n                element.removeEventListener(\"input\", this.#handleInteraction);\n                element.addEventListener(\"input\", this.#handleInteraction.bind( this, element ) );\n            }\n        });\n    }\n\n    #handleInteraction( element ){\n        if( !ConfigState.isLive() ){\n            let activeCollectionKey = ConfigState.getActiveCollection();\n            let elementCollectionKey = element.getAttribute( 'data-amplitude-collection-key' );\n\n            if( activeCollectionKey == elementCollectionKey ){\n                let locationPercentage = element.value;\n                let trackedLocation = Time.percentageInSeconds( locationPercentage );\n                \n                let audio = new Audio();\n                audio.setCurrentTime( trackedLocation )\n            }\n        }\n    }\n\n    static syncUI( completionPercentage ){\n        let elements = document.querySelectorAll( CollectionTrackerElement.collectionTrackerQuery );\n        let activeCollectionKey = ConfigState.getActiveCollection();\n\n        elements.forEach( ( element ) => {\n            let elementCollectionKey = element.getAttribute('data-amplitude-collection-key');\n            \n            if( activeCollectionKey == elementCollectionKey ){\n                element.value = completionPercentage;\n            }else{\n                element.value = 0;\n            }\n        });\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from '@/services/ConfigState';\nimport { Time } from '@/services/Time';\n\nexport class AudioTrackerElement{\n    static audioTrackerQuery = 'input[type=\"range\"].amplitude-audio-tracker[data-amplitude-audio-index]:not([data-amplitude-collection-key])';\n\n    #elements;\n    #isIE;\n\n    constructor(){\n        this.#isIE = ConfigState.isIE();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( AudioTrackerElement.audioTrackerQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#isIE ){\n                element.removeEventListener(\"change\", this.#handleInteraction );\n                element.addEventListener(\"change\", this.#handleInteraction.bind( this, element ) );\n            }else{\n                element.removeEventListener(\"input\", this.#handleInteraction);\n                element.addEventListener(\"input\", this.#handleInteraction.bind( this, element ) );\n            }\n        });\n    }\n\n    #handleInteraction( element ){\n        if( !ConfigState.isLive() ){\n            let activeAudioIndex = ConfigState.getActiveAudioIndex();\n            let elementAudioIndex = element.getAttribute( 'data-amplitude-audio-index' );\n\n            if( activeAudioIndex == elementAudioIndex ){\n                let locationPercentage = element.value;\n                let trackedLocation = Time.percentageInSeconds( locationPercentage );\n                \n                let audio = new Audio();\n                audio.setCurrentTime( trackedLocation )\n            }\n        }\n    }\n\n    static syncUI( completionPercentage ){\n        let elements = document.querySelectorAll( AudioTrackerElement.audioTrackerQuery );\n        let activeAudioIndex = ConfigState.getActiveAudioIndex();\n\n        elements.forEach( ( element ) => {\n            let elementAudioIndex = element.getAttribute('data-amplitude-audio-index');\n            \n            if( activeAudioIndex == elementAudioIndex ){\n                element.value = completionPercentage;\n            }else{\n                element.value = 0;\n            }\n        });\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from '@/services/ConfigState';\nimport { Time } from '@/services/Time';\n\nexport class CollectionAudioTrackerElement{\n    static collectionAudioTrackerQuery = 'input[type=\"range\"].amplitude-audio-tracker[data-amplitude-collection-key][data-amplitude-audio-index]';\n\n    #elements;\n    #isIE;\n\n    constructor(){\n        this.#isIE = ConfigState.isIE();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( CollectionAudioTrackerElement.collectionAudioTrackerQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#isIE ){\n                element.removeEventListener(\"change\", this.#handleInteraction );\n                element.addEventListener(\"change\", this.#handleInteraction.bind( this, element ) );\n            }else{\n                element.removeEventListener(\"input\", this.#handleInteraction);\n                element.addEventListener(\"input\", this.#handleInteraction.bind( this, element ) );\n            }\n        });\n    }\n\n    #handleInteraction( element ){\n        if( !ConfigState.isLive() ){\n            let activeCollectionKey = ConfigState.getActiveCollection();\n            let elementCollectionKey = element.getAttribute( 'data-amplitude-collection-key' );\n\n            let activeAudioIndex = ConfigState.getActiveAudioIndex();\n            let elementAudioIndex = element.getAttribute( 'data-amplitude-audio-index' );\n\n            if( ( activeCollectionKey == elementCollectionKey ) && ( activeAudioIndex == elementAudioIndex ) ){\n                let locationPercentage = element.value;\n                let trackedLocation = Time.percentageInSeconds( locationPercentage );\n                \n                let audio = new Audio();\n                audio.setCurrentTime( trackedLocation )\n            }\n        }\n    }\n\n    static syncUI( completionPercentage ){\n        let elements = document.querySelectorAll( CollectionAudioTrackerElement.collectionAudioTrackerQuery );\n        let activeCollectionKey = ConfigState.getActiveCollection();\n        let activeAudioIndex = ConfigState.getActiveAudioIndex();\n\n        elements.forEach( ( element ) => {\n            let elementCollectionKey = element.getAttribute('data-amplitude-collection-key');\n            let elementAudioIndex = element.getAttribute('data-amplitude-audio-index');\n            \n            if( ( activeCollectionKey == elementCollectionKey ) && ( activeAudioIndex == elementAudioIndex ) ){\n                element.value = completionPercentage;\n            }else{\n                element.value = 0;\n            }\n        });\n    }\n}","import { GlobalTrackerElement } from \"./TrackerElements/GlobalTrackerElement\";\nimport { CollectionTrackerElement } from \"./TrackerElements/CollectionTrackerElement\";\nimport { AudioTrackerElement } from \"./TrackerElements/AudioTrackerElement\";\nimport { CollectionAudioTrackerElement } from \"./TrackerElements/CollectionAudioTrackerElement\";\n\nexport class TrackerElement{\n    constructor(){\n\n    }\n\n    setUp(){\n        this.#configureGlobalTrackerElement();\n        this.#configureCollectionTrackerElement();\n        this.#configureAudioTrackerElement();\n        this.#configureCollectionAudioTrackerElement();\n    }\n\n    #configureGlobalTrackerElement(){\n        let globalTrackerElement = new GlobalTrackerElement();\n        globalTrackerElement.initialize();\n    }\n\n    #configureCollectionTrackerElement(){\n        let collectionTrackerElement = new CollectionTrackerElement();\n        collectionTrackerElement.initialize();\n    }\n\n    #configureAudioTrackerElement(){\n        let audioTrackerElement = new AudioTrackerElement();\n        audioTrackerElement.initialize();\n    }\n\n    #configureCollectionAudioTrackerElement(){\n        let collectionAudioTrackerElement = new CollectionAudioTrackerElement();\n        collectionAudioTrackerElement.initialize();\n    }\n\n    static syncCurrentTime( currentTime ){\n        GlobalTrackerElement.syncUI( currentTime );\n        CollectionTrackerElement.syncUI( currentTime );\n        AudioTrackerElement.syncUI( currentTime );\n        CollectionAudioTrackerElement.syncUI( currentTime );\n    }\n}","import { BufferedProgressElement } from '@/elements/BufferedProgressElement';\nimport { ConfigState } from '@/services/ConfigState';\nimport { config } from '@/config.js';\nimport { ProgressElement } from '@/elements/ProgressElement';\nimport { Time } from '@/services/Time';\nimport { TimeElement } from '@/elements/TimeElement';\nimport { TrackerElement } from '@/elements/TrackerElement';\n\nexport class TimeUpdateEvent{\n    bind(){\n        this.#bindTimeUpdate();\n        this.#bindDurationChange();\n    }\n\n    #bindTimeUpdate(){\n        config.audio_element.removeEventListener( \"timeupdate\", this.#handle.bind(this) );\n        config.audio_element.addEventListener( \"timeupdate\", this.#handle.bind(this) );\n    }\n\n    #bindDurationChange(){\n        config.audio_element.removeEventListener( \"durationchange\", this.#handle.bind(this) );\n        config.audio_element.addEventListener( \"durationchange\", this.#handle.bind(this) );\n    }\n\n    #handle(){\n        ConfigState.updateBufferedTime();\n        BufferedProgressElement.syncAll();\n        this.#updateTimeInformation();\n        this.#runTimeCallbacks();\n    }\n\n    #updateTimeInformation(){\n        if( !ConfigState.isLive() ){\n            let time = new Time();\n\n            let currentTime = time.computeCurrentTimes();\n            let completionPercentage = time.computeAudioCompletionPercentage();\n            let duration = time.computeAudioDuration();\n\n            let timeElement = new TimeElement();\n            timeElement.syncCurrentTime( currentTime );\n            timeElement.syncDurationTime( currentTime, duration );\n\n            TrackerElement.syncCurrentTime( completionPercentage );\n            ProgressElement.syncCurrentTime( completionPercentage );\n        }\n    }\n\n    #runTimeCallbacks(){\n\n    }\n}","// import { ProgressEvent } from \"@/events/ProgressEvent\";\nimport { AudioEndedEvent } from \"@/events/AudioEndedEvent\";\nimport { KeyBindingEvents } from \"@/events/KeyBindingEvents\";\nimport { TimeUpdateEvent } from \"@/events/TimeUpdateEvent\";\nimport { Debug } from \"@/services/Debug\";\nimport { config } from \"@/config.js\";\n\nexport class EventManager{\n    initializeAllEvents(){\n        Debug.writeMessage(\"Starting initialization of event handlers...\");\n\n        this.#bindTouchEvents();\n        this.#bindTimeUpdateEvents();\n        this.#bindKeyBindingEvents();\n        this.#bindAudioEndedEvent();\n        // this.#bindProgressEvent();\n        this.#bindAudioElementEventCallbacks();\n    }\n\n    #bindTouchEvents(){\n        document.addEventListener(\"touchmove\", () => {\n            config.is_touch_moving = true;\n        });\n\n        document.addEventListener(\"touchend\", () => {\n            if( !config.is_touch_moving ){\n                config.is_touch_moving = false;\n            }\n        })\n    }\n\n    #bindTimeUpdateEvents(){\n        let timeUpdateEvent = new TimeUpdateEvent();\n        timeUpdateEvent.bind();\n    }\n\n    #bindKeyBindingEvents(){\n        let keyBindingEvents = new KeyBindingEvents();\n        keyBindingEvents.bind();\n    }\n\n    #bindAudioEndedEvent(){\n        let audioEndedEvent = new AudioEndedEvent();\n        audioEndedEvent.bind();\n    }\n\n    #bindProgressEvent(){\n        let progressEvent = new ProgressEvent();\n        progressEvent.bind();\n    }\n\n    #bindAudioElementEventCallbacks(){\n\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\nimport { Navigation as CollectionNavigation } from \"@/services/Collections/Navigation.js\";\nimport { config } from \"@/config\";\nimport { Debug } from \"@/services/Debug\";\n\nexport class CollectionNextElement {\n    static collectionNextQuery = '.amplitude-next[data-amplitude-collection-key]';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( CollectionNextElement.collectionNextQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( ( element ) => {\n            if( this.#mobile ){\n                element.removeEventListener( \"touchend\", this.#handleInteraction );\n                element.addEventListener( \"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener( \"click\", this.#handleInteraction );\n                element.addEventListener( \"click\", this.#handleInteraction );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        let collectionKey = this.getAttribute('data-amplitude-collection-key');\n\n        if( collectionKey == config.active_collection ){\n            let collectionNavigation = new CollectionNavigation();\n            collectionNavigation.next( collectionKey );\n        }else{\n            Debug.writeMessage(\"You can not go to the next audio on a playlist that is not being played!\");\n        }\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\nimport { Debug } from \"@/services/Debug\";\nimport { Navigation as CollectionNavigation } from '@/services/Collections/Navigation.js';\n\nexport class GlobalNextElement {\n    static globalNextQuery = '.amplitude-next:not([data-amplitude-collection-key])';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( GlobalNextElement.globalNextQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( ( element ) => {\n            if( this.#mobile ){\n                element.removeEventListener( \"touchend\", this.#handleInteraction );\n                element.addEventListener( \"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener( \"click\", this.#handleInteraction );\n                element.addEventListener( \"click\", this.#handleInteraction );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        if( ConfigState.getScope() == 'collection' ){\n            let collectionNavigation = new CollectionNavigation();\n            collectionNavigation.next();\n        }else{\n            Debug.writeMessage(\"You can only navigate next when you are playing a collection.\");\n        }\n    }\n}","import { CollectionNextElement } from \"./NextElements/CollectionNextElement\";\nimport { GlobalNextElement } from \"./NextElements/GlobalNextElement\";\n\n/**\n * Handles the configuration and managing of Next elements\n * \n * A Next element is defined as the following:\n * \n * Element: class=\"amplitude-next\"\n * \n * GLOBAL: class=\"amplitude-next\"\n * Handles next for whatever scope the player is in.\n * \n * COLLECTION: class=\"amplitude-next\" data-amplitude-collection=\"{collection_key}\"\n * Handles the next audio within a specific collection.\n */\nexport class NextElement {\n    setUp(){\n        this.#configureGlobalNextElement();\n        this.#configureCollectionNextElement();\n    }\n\n    #configureGlobalNextElement(){\n        let globalNextElement = new GlobalNextElement();\n        globalNextElement.initialize();\n    }\n\n    #configureCollectionNextElement(){\n        let collectionNextElement = new CollectionNextElement();\n        collectionNextElement.initialize();\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\nimport { MuteElement } from \"./MuteElement\";\nimport { Audio } from \"@/core/Audio\";\n\n/**\n * Handles the configuration and managing of Volume Slider elements\n * \n * A Volume Slider element is defined as the following:\n * \n * Element: class=\"amplitude-volume-slider\"\n * Type: input[type=\"range\"]\n * \n * Whenever this element is interacted with, the audio volume is adjusted no matter where.\n */\nexport class VolumeSliderElement {\n    static volumeSliderElementQuery = 'input[type=\"range\"].amplitude-volume-slider';\n\n    #elements;\n    #ie;\n\n    constructor(){\n        this.#ie = ConfigState.isIE();\n    }\n\n    setUp(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( VolumeSliderElement.volumeSliderElementQuery );\n    }\n\n    #bindInteractions(){\n        if( ConfigState.isIos() ){\n            Debug.writeMessage(\n                \"iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4\"\n            );\n        }else{\n            this.#elements.forEach( ( element ) => {\n                if( this.#ie ){\n                    element.removeEventListener( \"change\", this.#handleInteraction );\n                    element.addEventListener( \"change\", this.#handleInteraction );\n                }else{\n                    element.removeEventListener( \"input\", this.#handleInteraction );\n                    element.addEventListener( \"input\", this.#handleInteraction );\n                }\n            });\n        }\n    }\n\n    #handleInteraction(){\n        let audio = new Audio();\n        audio.setVolume( this.value );\n\n        MuteElement.syncElements();\n        VolumeSliderElement.syncElements();\n    }\n    \n\n    static syncElements(){\n        let elements = document.querySelectorAll( VolumeSliderElement.volumeSliderElementQuery );\n\n        elements.forEach( function( element ){\n            element.value = ConfigState.getVolume();\n        });\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { VolumeSliderElement } from \"./VolumeSliderElement\";\nimport { Debug } from \"@/services/Debug\";\n/**\n * Handles the configuration and managing of Mute elements\n * \n * A Mute element is defined as the following:\n * \n * Element: class=\"amplitude-mute\"\n * \n * Whenever this element is interacted with, the audio is muted no matter where.\n */\nexport class MuteElement {\n    static muteElementQuery = '.amplitude-mute';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    setUp(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( MuteElement.muteElementQuery );\n    }\n\n    #bindInteractions(){\n        if( ConfigState.isIos() ){\n            Debug.writeMessage(\n                \"iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4\"\n            );\n        }else{\n            this.#elements.forEach( ( element ) => {\n                if( this.#mobile ){\n                    element.removeEventListener( \"touchend\", this.#handleInteraction );\n                    element.addEventListener( \"touchend\", this.#handleInteraction );\n                }else{\n                    element.removeEventListener( \"click\", this.#handleInteraction );\n                    element.addEventListener( \"click\", this.#handleInteraction );\n                }\n            });\n        }\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            let audio = new Audio();\n\n            if( ConfigState.getVolume() == 0 ){\n                audio.setVolume( ConfigState.getPreMuteVolume() );\n            }else{\n                ConfigState.setPreMuteVolume();\n                audio.setVolume( 0 );\n            }\n\n            MuteElement.syncElements();\n            VolumeSliderElement.syncElements();\n        }\n    }\n\n    static syncElements(){\n        let elements = document.querySelectorAll( MuteElement.muteElementQuery );\n\n        elements.forEach( function( element ){\n            if( ConfigState.getVolume() == 0 ){\n                element.classList.remove(\"amplitude-not-muted\");\n                element.classList.add(\"amplitude-muted\");\n            }else{\n                element.classList.add(\"amplitude-not-muted\");\n                element.classList.remove(\"amplitude-muted\");\n            }\n        });\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\n\nexport class GlobalPauseElement {\n    static globalPauseQuery = '.amplitude-pause:not([data-amplitude-audio-index]):not([data-amplitude-collection-key])';\n    \n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( GlobalPauseElement.globalPauseQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( ( element ) => {\n            if( this.#mobile ){\n                element.removeEventListener( \"touchend\", this.#handleInteraction );\n                element.addEventListener( \"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener( \"click\", this.#handleInteraction );\n                element.addEventListener( \"click\", this.#handleInteraction );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            let audio = new Audio();\n            audio.pause();\n\n            PlayPauseElement.syncAll();\n        }\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\n\nexport class CollectionPauseElement{\n    static collectionPauseQuery = '.amplitude-pause[data-amplitude-collection-key]:not([data-amplitude-audio-index])';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( CollectionPauseElement.collectionPauseQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#mobile ){\n                element.removeEventListener(\"touchend\", this.#handleInteraction );\n                element.addEventListener(\"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener(\"click\", this.#handleInteraction );\n                element.addEventListener(\"click\", this.#handleInteraction );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            let collectionKey = this.getAttribute('data-amplitude-collection-key');\n            \n            // Ensure we pause the audio if the active collection is\n            // what is controlled by this pause element.\n            if( config.active_collection == collectionKey ){\n                let audio = new Audio();\n                audio.pause();\n\n                PlayPauseElement.syncAll();\n            }\n        }\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\nimport { config } from \"../../config\";\n\nexport class AudioPauseElement{\n    static audioPauseQuery = \".amplitude-pause[data-amplitude-audio-index]:not([data-amplitude-collection-key])\";\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( AudioPauseElement.audioPauseQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#mobile ){\n                element.removeEventListener(\"touchend\", this.#handleInteraction );\n                element.addEventListener(\"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener(\"click\", this.#handleInteraction );\n                element.addEventListener(\"click\", this.#handleInteraction );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            let audioIndex = this.getAttribute('data-amplitude-audio-index');\n\n            // If the scope is audio and the index of the element matches the active audio\n            // index, then we pause the player.\n            if( ConfigState.getScope() == 'audio' && ( config.active_index == audioIndex ) ){\n                let audio = new Audio();\n                audio.pause();\n\n                PlayPauseElement.syncAll();\n            }\n        }\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\nimport { config } from \"@/config\";\n\nexport class CollectionAudioPauseElement{\n    static collectionAudioPauseQuery = '.amplitude-pause[data-amplitude-collection-key][data-amplitude-audio-index]';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( CollectionAudioPauseElement.collectionAudioPauseQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#mobile ){\n                element.removeEventListener(\"touchend\", this.#handleInteraction );\n                element.addEventListener(\"touchend\", this.#handleInteraction.bind(this, element) );\n            }else{\n                element.removeEventListener(\"click\", this.#handleInteraction );\n                element.addEventListener(\"click\", this.#handleInteraction.bind(this, element) );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            let collectionKey = element.getAttribute('data-amplitude-collection-key');\n            let audioIndex = element.getAttribute('data-amplitude-audio-index');\n\n            if( config.active_collection == collectionKey &&\n                config.collections[ collectionKey ].active_index == audioIndex ){\n                    let audio = new Audio();\n                    audio.pause();\n\n                    PlayPauseElement.syncAll();\n            }\n        }\n    }\n}","import { GlobalPauseElement } from \"./PauseElements/GlobalPauseElement\";\nimport { CollectionPauseElement } from \"./PauseElements/CollectionPauseElement\";\nimport { AudioPauseElement } from \"./PauseElements/AudioPauseElement\";\nimport { CollectionAudioPauseElement } from \"./PauseElements/CollectionAudioPauseElement\";\n\n/**\n * Handles the configuration and managing of Pause elements.\n * \n * A Pause element is defined as the following:\n * \n * Element: class=\"amplitude-pause\"\n * \n * GLOBAL: class=\"amplitude-pause\"\n * Controls the entire state of the audio player.\n * \n * COLLECTION: class=\"amplitude-pause\" data-amplitude-collection=\"{collection_key}\"\n * Scoped to an individual collection. Will only pause what's within the scope of the collection.\n * \n * AUDIO: class=\"amplitude-pause\" data-amplitude-audio-index=\"{audio_index}\"\n * Scoped to an individual audio element.\n * \n * AUDIO IN COLLECTION: class=\"amplitude-pause\" data-amplitude-collection-key=\"{collection_key}\" data-amplitude-audio-index=\"{audio_index}\"\n * Scoped to an individual audio element within a collection.\n */\nexport class PauseElement {\n    setUp(){\n        this.#configureGlobalPauseElement();\n        this.#configureCollectionPauseElement();\n        this.#configureAudioPauseElement();\n        this.#configureCollectionAudioPauseElement();\n    }\n\n    #configureGlobalPauseElement(){\n        let globalPauseElement = new GlobalPauseElement();\n        globalPauseElement.initialize();\n    }\n\n    #configureCollectionPauseElement(){\n        let collectionPauseElement = new CollectionPauseElement();\n        collectionPauseElement.initialize();\n    }\n\n    #configureAudioPauseElement(){\n        let audioPauseElement = new AudioPauseElement();\n        audioPauseElement.initialize();\n    }\n\n    #configureCollectionAudioPauseElement(){\n        let collectionAudioPauseElement = new CollectionAudioPauseElement();\n        collectionAudioPauseElement.initialize();\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\n\nexport class GlobalPlayElement {\n    static globalPlayQuery = '.amplitude-play:not([data-amplitude-audio-index]):not([data-amplitude-collection-index])';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( GlobalPlayElement.globalPlayQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( ( element ) => {\n            if( this.#mobile ){\n                element.removeEventListener( \"touchend\", this.#handleInteraction );\n                element.addEventListener( \"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener( \"click\", this.#handleInteraction );\n                element.addEventListener( \"click\", this.#handleInteraction );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        let audio = new Audio();\n        audio.play();\n\n        PlayPauseElement.syncAll();\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { Checks as CollectionChecks } from \"@/services/Collections/Checks\";\nimport { Navigation as CollectionNavigation } from \"@/services/Collections/Navigation\";\nimport { Debug } from \"@/services/Debug\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { config } from \"@/config\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\n\nexport class CollectionPlayElement{\n    static collectionPlayQuery = '.amplitude-play[data-amplitude-collection-key]:not([data-amplitude-audio-index])';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( CollectionPlayElement.collectionPlayQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#mobile ){\n                element.removeEventListener(\"touchend\", this.#handleInteraction );\n                element.addEventListener(\"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener(\"click\", this.#handleInteraction );\n                element.addEventListener(\"click\", this.#handleInteraction );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            let collection = this.getAttribute('data-amplitude-collection-key');\n\n            if( !CollectionChecks.collectionExists( collection ) ){\n                Debug.writeMessage('Collection with key \"'+collection+'\" does not exist! Please define this collection in your configuration.');\n                return false;\n            }\n\n            this.#handleCollectionChanges( collection );\n            this.#playAudio();\n\n            PlayPauseElement.syncAll();\n        }\n    }\n\n    #handleCollectionChanges( collection ){\n        if( CollectionChecks.collectionChanged( collection ) ){\n            \n            let collectionNavigation = new CollectionNavigation();\n            collectionNavigation.setActiveCollection( collection );\n\n            // If the collection is shuffled and the collection is changed,\n            // we change the audio to be the first audio in the array. Since,\n            // we are changing the collection, we are starting at the top.\n            if( CollectionChecks.isCollectionShuffled( collection ) ){\n                collectionNavigation.changeAudioCollection(\n                    collection,\n                    config.collections[ collection ].shuffle_list[0],\n                    0,\n                    true\n                );\n            }else{\n                collectionNavigation.changeAudioCollection(\n                    collection,\n                    config.collections[ collection ].audio[0],\n                    0\n                );\n            }\n        }\n    }\n\n    #playAudio(){\n        let audio = new Audio();\n        audio.play();\n    }\n}","import { Audio } from '@/core/Audio.js';\nimport { Checks as AudioChecks } from '@/services/Audio/Checks.js';\nimport { Navigation as AudioNavigation } from '@/services/Audio/Navigation.js';\nimport { Checks as CollectionChecks } from '@/services/Collections/Checks.js';\nimport { Navigation as CollectionNavigation } from '@/services/Collections/Navigation.js';\nimport { Debug } from \"@/services/Debug\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { config } from \"@/config\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\n\nexport class AudioPlayElement {\n    static audioPlayQuery = '.amplitude-play[data-amplitude-audio-index]:not([data-amplitude-collection-key])';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( AudioPlayElement.audioPlayQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#mobile ){\n                element.removeEventListener(\"touchend\", this.#handleInteraction );\n                element.addEventListener(\"touchend\", this.#handleInteraction.bind(this, element) );\n            }else{\n                element.removeEventListener(\"click\", this.#handleInteraction );\n                element.addEventListener(\"click\", this.#handleInteraction.bind(this, element) );\n            }\n        } );\n    }\n\n    #handleInteraction( element ){\n        if( !ConfigState.isTouchMoving() ){     \n            let index = element.getAttribute('data-amplitude-audio-index');\n\n            if( !AudioChecks.audioExists( index ) ){\n                Debug.writeMessage('Audio with index \"'+index+'\" does not exist! Please add an audio object at this index in your configuration.');\n                return false;\n            }\n\n            this.#handleCollectionChanges( index );\n            this.#handleAudioChanges( index );\n            this.#playAudio();\n            \n            PlayPauseElement.syncAll();\n        }\n    }\n\n    #handleCollectionChanges( index ){\n        if( CollectionChecks.collectionChanged( null ) ){\n            let collectionNavigation = new CollectionNavigation();\n            let audioNavigation = new AudioNavigation();\n\n            collectionNavigation.setActiveCollection( null );\n            audioNavigation.changeAudio(\n                config.audio[index], index, true\n            );\n        }\n    }\n\n    #handleAudioChanges( index ){\n        if( AudioChecks.audioChanged( index ) ){\n            let audioNavigation = new AudioNavigation();\n\n            audioNavigation.changeAudio(\n                config.audio[index], index, true\n            );\n        }\n    }\n\n    #playAudio(){\n        let audio = new Audio();\n        audio.play();\n    }\n}","import { Audio } from '@/core/Audio.js';\nimport { Checks as AudioChecks } from '@/services/Audio/Checks.js';\nimport { Checks as CollectionChecks } from '@/services/Collections/Checks.js';\nimport { Navigation as CollectionNavigation } from '@/services/Collections/Navigation.js';\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { config } from \"@/config\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\n\nexport class CollectionAudioPlayElement {\n    static collectionAudioPlayQuery = '.amplitude-play[data-amplitude-audio-index][data-amplitude-collection-key]';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( CollectionAudioPlayElement.collectionAudioPlayQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#mobile ){\n                element.removeEventListener(\"touchend\", this.#handleInteraction );\n                element.addEventListener(\"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener(\"click\", this.#handleInteraction );\n                element.addEventListener(\"click\", this.#handleInteraction );\n            }\n        } );\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            let collectionKey = this.getAttribute('data-amplitude-collection-key');\n            let audioIndex = this.getAttribute('data-amplitude-audio-index');\n            \n            this.#handleCollectionChanges( collectionKey, audioIndex );\n            this.#handleAudioChanges( collectionKey, audioIndex );\n            this.#playAudio();\n\n            PlayPauseElement.syncAll();\n        }\n    }\n\n    #handleCollectionChanges( collectionKey, audioIndex ){\n        if( CollectionChecks.collectionChanged( collectionKey ) ){\n            let collectionNavigation = new CollectionNavigation();\n\n            collectionNavigation.setActiveCollection( collectionKey );\n            collectionNavigation.changeAudioCollection(\n                collectionKey,\n                config.collections[ collectionKey ].audio[audioIndex],\n                audioIndex,\n                true\n            );\n        }\n    }\n\n    #handleAudioChanges( collectionKey, audioIndex ){\n        if( AudioChecks.audioChanged( audioIndex, collectionKey ) ){\n            let collectionNavigation = new CollectionNavigation();\n\n            collectionNavigation.changeAudioCollection(\n                collectionKey,\n                config.collections[ collectionKey ].audio[audioIndex],\n                audioIndex,\n                true\n            );\n        }\n    }\n\n    #playAudio(){\n        let audio = new Audio();\n        audio.play();\n    }\n}","import { GlobalPlayElement } from \"./PlayElements/GlobalPlayElement\";\nimport { CollectionPlayElement } from \"./PlayElements/CollectionPlayElement\";\nimport { AudioPlayElement } from \"./PlayElements/AudioPlayElement\";\nimport { CollectionAudioPlayElement } from \"./PlayElements/CollectionAudioPlayElement\";\n/**\n * Handles the configuration and managing of the play elements.\n * \n * A Play element is defined as the following:\n * \n * Element: class=\"amplitude-play\"\n * \n * GLOBAL: class=\"amplitude-play\"\n * Controls the entire state of the audio player. Will play whatever is active.\n * \n * COLLECTION: class=\"amplitude-play\" data-amplitude-collection-key=\"{collection_key}\"\n * Scoped to an individual collection. Will only play within the collection.\n * \n * AUDIO: class=\"amplitude-play\" data-amplitude-audio-index=\"{audio_index}\"\n * Scoped to an individual audio element. Will only play a specific piece of audio.\n * \n * AUDIO IN COLLECTION: class=\"amplitude-play\" data-amplitude-collection-key=\"{collection_key}\" data-amplitude-audio-index=\"{audio_index}\"\n * Scoped to an individual audio element within a collection. Will only play a specific piece of audio in a collection.\n */\nexport class PlayElement{\n    setUp(){\n        this.#configureGlobalPlayElement();\n        this.#configureCollectionPlayElement();\n        this.#configureAudioPlayElement();\n        this.#configureCollectionAudioPlayElement();\n    }\n\n    #configureGlobalPlayElement(){\n        let globalPlayElement = new GlobalPlayElement();\n        globalPlayElement.initialize();\n    }\n\n    #configureCollectionPlayElement(){\n        let collectionPlayElement = new CollectionPlayElement();\n        collectionPlayElement.initialize();\n    }\n\n    #configureAudioPlayElement(){\n        let audioPlayElement = new AudioPlayElement();\n        audioPlayElement.initialize();\n    }\n\n    #configureCollectionAudioPlayElement(){\n        let collectionAudioPlayElement = new CollectionAudioPlayElement();\n        collectionAudioPlayElement.initialize();\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from \"@/services/ConfigState\";\n\nexport class PlaybackSpeedElement {\n    static playbackSpeedElementQuery = '.amplitude-playback-speed';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    setUp(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( PlaybackSpeedElement.playbackSpeedElementQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( ( element ) => {\n            if( this.#mobile ){\n                element.removeEventListener( \"touchend\", this.#handleInteraction );\n                element.addEventListener( \"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener( \"click\", this.#handleInteraction );\n                element.addEventListener( \"click\", this.#handleInteraction );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            let audio = new Audio();\n\n            switch( ConfigState.getPlaybackSpeed() ){\n                case 1:\n                    audio.setPlaybackSpeed( 1.5 );\n                break;\n                case 1.5:\n                    audio.setPlaybackSpeed( 2 );\n                break;\n                case 2:\n                    audio.setPlaybackSpeed( 1 );\n                break;\n            }\n\n            PlaybackSpeedElement.syncElements();\n        }\n    }\n\n    static syncElements(){\n        let elements = document.querySelectorAll( PlaybackSpeedElement.playbackSpeedElementQuery );\n\n        elements.forEach( function( element ){\n            element.classList.remove(\"amplitude-playback-speed-10\");\n            element.classList.remove(\"amplitude-playback-speed-15\");\n            element.classList.remove(\"amplitude-playback-speed-20\");\n\n            switch( ConfigState.getPlaybackSpeed() ){\n                case 1:\n                    element.classList.add(\"amplitude-playback-speed-10\");\n                break;\n                case 1.5:\n                    element.classList.add(\"amplitude-playback-speed-15\");\n                break;\n                case 2:\n                    element.classList.add(\"amplitude-playback-speed-20\");\n                break;\n            }\n        });\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\nimport { Debug } from \"@/services/Debug\";\nimport { Navigation as CollectionNavigation } from \"@/services/Collections/Navigation.js\"\n\nexport class CollectionPreviousElement {\n    static collectionPreviousQuery = '.amplitude-previous[data-amplitude-collection-key]';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( CollectionPreviousElement.collectionPreviousQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( ( element ) => {\n            if( this.#mobile ){\n                element.removeEventListener( \"touchend\", this.#handleInteraction );\n                element.addEventListener( \"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener( \"click\", this.#handleInteraction );\n                element.addEventListener( \"click\", this.#handleInteraction );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            let collectionKey = this.getAttribute('data-amplitude-collection-key');\n\n            if( collectionKey == config.active_collection ){\n                let collectionNavigation = new CollectionNavigation();\n                collectionNavigation.previous();\n            }else{\n                Debug.writeMessage(\"You can not go to the previous audio on a playlist that is not being played!\");\n            }\n        }\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\nimport { Debug } from \"@/services/Debug\";\nimport { Navigation as CollectionNavigation } from \"@/services/Collections/Navigation.js\"\n\nexport class GlobalPreviousElement {\n    static globalPreviousQuery = '.amplitude-previous:not([data-amplitude-collection-key])';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( GlobalPreviousElement.globalPreviousQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( ( element ) => {\n            if( this.#mobile ){\n                element.removeEventListener( \"touchend\", this.#handleInteraction );\n                element.addEventListener( \"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener( \"click\", this.#handleInteraction );\n                element.addEventListener( \"click\", this.#handleInteraction );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            if( ConfigState.getScope() == 'collection' ){\n                let collectionNavigation = new CollectionNavigation();\n                collectionNavigation.previous();\n            }else{\n                Debug.writeMessage(\"You can only navigate previous when you are playing a collection.\");\n            }\n        }\n    }\n}","import { CollectionPreviousElement } from \"./PreviousElements/CollectionPreviousElement\";\nimport { GlobalPreviousElement } from \"./PreviousElements/GlobalPreviousElement\";\n\n/**\n * Handles the configuration and managing of Previous elements\n * \n * A Previous element is defined as the following:\n * \n * Element: class=\"amplitude-previous\"\n * \n * GLOBAL: class=\"amplitude-previous\"\n * Handles previous for whatever scope the player is in.\n * \n * COLLECTION: class=\"amplitude-previous\" data-amplitude-collection=\"{collection_key}\"\n * Handles the previous audio within a specific collection.\n */\nexport class PreviousElement {\n    setUp(){\n        this.#configureGlobalPreviousElement();\n        this.#configureCollectionPreviousElement();\n    }\n\n    #configureGlobalPreviousElement(){\n        let globalPreviousElement = new GlobalPreviousElement();\n        globalPreviousElement.initialize();\n    }\n\n    #configureCollectionPreviousElement(){\n        let collectionPreviousElement = new CollectionPreviousElement();\n        collectionPreviousElement.initialize();   \n    }\n}","import { ConfigState } from '@/services/ConfigState';\n\nexport class Shuffle {\n    #collection\n\n    constructor( collection ){\n        this.#collection = collection;\n    }\n\n    toggleShuffle( collection ){\n        let isShuffled = ConfigState.isCollectionShuffled( collection );\n\n        if( isShuffled ){\n            ConfigState.setCollectionShuffled( collection, false, [] );\n        }else{\n            let shuffledAudio = this.#shuffleAudio( collection );\n            ConfigState.setCollectionShuffled( collection, true, shuffledAudio );\n        }\n    }\n\n    #shuffleAudio( collection ){\n        let audio = ConfigState.getCollectionAudio( collection );\n        let shuffleTemp = new Array( audio.length );\n\n        audio.forEach( ( audio, index ) => {\n            shuffleTemp[ index ] = audio[ index ]\n        });\n\n        for( let i = audio.length - 1; i > 0; i-- ){\n            let randomNumber = Math.floor(\n                Math.random() * audio.length + 1\n            );\n\n            this.#shuffleSwap( shuffleTemp, i, randomNumber - 1);\n        }\n\n        return shuffleTemp;\n    }\n\n    #shuffleSwap( list, original, random ){\n        let temp = list[ original ];\n        list[ original ] = list[ random ];\n        list[ random ] = temp;\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\nimport { Shuffle } from \"@/services/Collections/Shuffle\";\n\nexport class CollectionShuffleElement {\n    static collectionShuffleQuery = '.amplitude-shuffle[data-amplitude-collection-key]';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( CollectionShuffleElement.collectionShuffleQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( ( element ) => {\n            if( this.#mobile ){\n                element.removeEventListener( \"touchend\", this.#handleInteraction );\n                element.addEventListener( \"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener( \"click\", this.#handleInteraction );\n                element.addEventListener( \"click\", this.#handleInteraction );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        let collectionKey = this.getAttribute('data-amplitude-collection-key');\n\n        let shuffle = new Shuffle( collectionKey );\n        shuffle.toggleShuffle();\n\n        CollectionShuffleElement.syncUI( collectionKey )\n    }\n\n    static syncUI( collection ){\n        let elements = document.querySelectorAll( '.amplitude-shuffle[data-amplitude-collection=\"'+collection+'\"]');\n        \n        elements.forEach( ( element ) => {\n            if( ConfigState.isCollectionShuffled( collection ) ){\n                element.classList.add( \"amplitude-shuffle-on\" );\n                element.classList.remove( \"amplitude-shuffle-off\" );\n            }else{\n                element.classList.add( \"amplitude-shuffle-off\" );\n                element.classList.remove( \"amplitude-shuffle-on\" );\n            }\n        });\n    }\n}","import { ConfigState } from \"@/services/ConfigState\";\nimport { Shuffle } from \"@/services/Collections/Shuffle\";\nimport { Debug } from \"@/services/Debug\";\nimport { CollectionShuffleElement } from \"./CollectionShuffleElement\";\n\nexport class GlobalShuffleElement {\n    static globalShuffleQuery = '.amplitude-shuffle:not([data-amplitude-collection-key])';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( GlobalShuffleElement.globalShuffleQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( ( element ) => {\n            if( this.#mobile ){\n                element.removeEventListener( \"touchend\", this.#handleInteraction );\n                element.addEventListener( \"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener( \"click\", this.#handleInteraction );\n                element.addEventListener( \"click\", this.#handleInteraction );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        if( ConfigState.getScope() == 'collection' ){\n            let collection = ConfigState.getActiveCollection();\n\n            let shuffle = new Shuffle( collectionKey );\n            shuffle.toggleShuffle();\n\n            GlobalShuffleElement.syncUI();\n            CollectionShuffleElement.syncUI( collection );\n        }else{\n            Debug.writeMessage(\"You can only shuffle a collection if you are playing a collection.\");\n        }\n    }\n\n    static syncUI(){\n        let elements = document.querySelectorAll( GlobalShuffleElement.globalShuffleQuery );\n        let collection = ConfigState.getActiveCollection();\n\n        elements.forEach( ( element ) => {\n            if( ConfigState.isCollectionShuffled( collection ) ){\n                element.classList.add( \"amplitude-shuffle-on\" );\n                element.classList.remove( \"amplitude-shuffle-off\" );\n            }else{\n                element.classList.add( \"amplitude-shuffle-off\" );\n                element.classList.remove( \"amplitude-shuffle-on\" );\n            }\n        });\n    }\n}","import { CollectionShuffleElement } from \"./ShuffleElements/CollectionShuffleElement\";\nimport { GlobalShuffleElement } from \"./ShuffleElements/GlobalShuffleElement\";\n\n/**\n * Handles the configuration and managing of Shuffle elements\n * \n * A Shuffle element is defined as the following:\n * \n * Element: class=\"amplitude-shuffle\"\n * \n * GLOBAL: class=\"amplitude-shuffles\"\n * Shuffles the active collection\n * \n * COLLECTION: class=\"amplitude-shuffle\" data-amplitude-collection=\"{collection_key}\"\n * Shuffles the collection identified\n */\nexport class ShuffleElement {\n    setUp(){\n        this.#configureGlobalShuffleElement();\n        this.#configureCollectionShuffleElement();\n    }\n\n    #configureGlobalShuffleElement(){\n        let globalShuffleElement = new GlobalShuffleElement();\n        globalShuffleElement.initialize();\n    }\n\n    #configureCollectionShuffleElement(){\n        let collectionShuffleElement = new CollectionShuffleElement();\n        collectionShuffleElement.initialize();\n    }\n}","import { Audio } from '@/core/Audio.js';\nimport { config } from '@/config';\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { Debug } from \"@/services/Debug\";\nimport { Navigation as AudioNavigation } from '@/services/Audio/Navigation.js';\nimport { PlayPauseElement } from '@/elements/PlayPauseElement';\n\nexport class AudioSkipToElement {\n    static audioSkipToElementQuery = \".amplitude-skip-to[data-amplitude-audio-index]:not([data-amplitude-collection-key])\";\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( AudioSkipToElement.audioSkipToElementQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#mobile ){\n                element.removeEventListener(\"touchend\", this.#handleInteraction );\n                element.addEventListener(\"touchend\", this.#handleInteraction.bind(this, element) );\n            }else{\n                element.removeEventListener(\"click\", this.#handleInteraction );\n                element.addEventListener(\"click\", this.#handleInteraction.bind(this, element) );\n            }\n        });\n    }\n\n    #handleInteraction( element ){\n        if( !ConfigState.isTouchMoving() ){\n            let audioIndex = element.getAttribute('data-amplitude-audio-index');\n            let location = element.getAttribute('data-amplitude-location');\n\n            if( this.#validElement( audioIndex, location ) ){\n                this.#handleAudioChange( audioIndex );\n                this.#playAudio();\n                PlayPauseElement.syncAll();\n                this.#skipToLocation( location );\n            }\n        }\n    }\n\n    #validElement( audioIndex, location ){\n        if( audioIndex == null ){\n            Debug.writeMessage( \"You must add a `data-amplitude-audio-index` attribute to your `amplitude-skip-to` element.\");\n            return false;\n        }\n\n        if( location == null ){\n            Debug.writeMessage( \"You must add a `data-amplitude-location` attribute in seconds to your `amplitude-skip-to` element.\");\n            return false;\n        }\n\n        return true;\n    }\n\n    #handleAudioChange( audioIndex ){\n        let audioNavigation = new AudioNavigation();\n        audioNavigation.changeAudio(\n            config.audio[ parseInt( audioIndex ) ], parseInt( audioIndex ), true\n        );\n    }\n\n    #playAudio(){\n        let audio = new Audio();\n        audio.play();\n    }\n\n    #skipToLocation( location ){\n        let audio = new Audio();\n        audio.skipToLocation( parseInt( location ) );\n    }\n}","import { Audio } from '@/core/Audio.js';\nimport { Checks as CollectionChecks } from \"@/services/Collections/Checks\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { Navigation as CollectionNavigation } from \"@/services/Collections/Navigation\";\nimport { PlayPauseElement } from '@/elements/PlayPauseElement';\n\nexport class CollectionAudioSkipToElement {\n    static collectionAudioSkipToElementQuery = \".amplitude-skip-to[data-amplitude-audio-index][data-amplitude-collection-key]\";\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    initialize(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( CollectionAudioSkipToElement.collectionAudioSkipToElementQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( (element) => {\n            if( this.#mobile ){\n                element.removeEventListener(\"touchend\", this.#handleInteraction );\n                element.addEventListener(\"touchend\", this.#handleInteraction.bind(this, element) );\n            }else{\n                element.removeEventListener(\"click\", this.#handleInteraction );\n                element.addEventListener(\"click\", this.#handleInteraction.bind(this, element) );\n            }\n        });\n    }\n\n    #handleInteraction( element ){\n        if( !ConfigState.isTouchMoving() ){\n            let audioIndex = element.getAttribute('data-amplitude-audio-index');\n            let collectionKey = element.getAttribute('data-amplitude-collection-key');\n            let location = element.getAttribute('data-amplitude-location');\n\n            if( this.#validElement( audioIndex, collectionKey, location ) ){\n                this.#handleCollectionChange( collectionKey );\n                this.#handleAudioChange( audioIndex, collectionKey );\n                this.#playAudio();\n                PlayPauseElement.syncAll();\n                this.#skipToLocation( location );\n            }\n        }\n    }\n\n    #validElement( audioIndex, collectionKey, location ){\n        if( audioIndex == null ){\n            Debug.writeMessage( \"You must add a `data-amplitude-audio-index` attribute to your `amplitude-skip-to` element.\");\n            return false;\n        }\n\n        if( collectionKey == null ){\n            Debug.writeMessage( \"You must add a valid `data-amplitude-collection-key` attribute to your `amplitude-skip-to` element.\");\n            return false;\n        }\n\n        if( location == null ){\n            Debug.writeMessage( \"You must add a `data-amplitude-location` attribute in seconds to your `amplitude-skip-to` element.\");\n            return false;\n        }\n\n        return true;\n    }\n\n    #handleCollectionChange( collection ){\n        if( CollectionChecks.collectionChanged( collection ) ){   \n            let collectionNavigation = new CollectionNavigation();\n            collectionNavigation.setActiveCollection( collection );\n        }\n    }\n\n    #handleAudioChange( audioIndex, collectionKey ){\n        let collectionNavigation = new CollectionNavigation();\n\n        collectionNavigation.changeAudioCollection(\n            collectionKey,\n            config.collections[ collectionKey ].audio[ parseInt( audioIndex ) ],\n            parseInt( audioIndex ),\n            true\n        );\n    }\n\n    #playAudio(){\n        let audio = new Audio();\n        audio.play();\n    }\n\n    #skipToLocation( location ){\n        let audio = new Audio();\n        audio.skipToLocation( parseInt( location ) );\n    }\n}","import { AudioSkipToElement } from \"./SkipToElements/AudioSkipToElement\";\nimport { CollectionAudioSkipToElement } from \"./SkipToElements/CollectionAudioSkipToElement\";\n\nexport class SkipToElement {\n    setUp(){\n        this.#configureAudioSkipToElement();\n        this.#configureCollectionAudioSkipToElement();\n    }\n\n    #configureAudioSkipToElement(){\n        let audioSkipToElement = new AudioSkipToElement();\n        audioSkipToElement.initialize();\n    }\n\n    #configureCollectionAudioSkipToElement(){\n        let collectionAudioSkipToElement = new CollectionAudioSkipToElement();\n        collectionAudioSkipToElement.initialize();\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\nimport { ConfigState } from \"@/services/ConfigState\";\n\n/**\n * Handles the configuration and managing of Stop elements\n * \n * A Stop element is defined as the following:\n * \n * Element: class=\"amplitude-stop\"\n * \n * Whenever this element is interacted with, the audio is stopped no matter where.\n */\nexport class StopElement {\n    static stopElementQuery = '.amplitude-stop';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    setUp(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( StopElement.stopElementQuery );\n    }\n\n    #bindInteractions(){\n        this.#elements.forEach( ( element ) => {\n            if( this.#mobile ){\n                element.removeEventListener( \"touchend\", this.#handleInteraction );\n                element.addEventListener( \"touchend\", this.#handleInteraction );\n            }else{\n                element.removeEventListener( \"click\", this.#handleInteraction );\n                element.addEventListener( \"click\", this.#handleInteraction );\n            }\n        });\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            let audio = new Audio();\n            audio.stop();\n\n            PlayPauseElement.syncAll();\n        }\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { MuteElement } from \"./MuteElement\";\nimport { VolumeSliderElement } from \"./VolumeSliderElement\";\nimport { Debug } from \"@/services/Debug\";\n\n/**\n * Handles the configuration and managing of Volume Down elements\n * \n * A Volume Down element is defined as the following:\n * \n * Element: class=\"amplitude-volume-down\"\n * \n * Whenever this element is interacted with, the audio is muted no matter where.\n */\nexport class VolumeDownElement {\n    static volumeDownElementQuery = '.amplitude-volume-down';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    setUp(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( VolumeDownElement.volumeDownElementQuery );\n    }\n\n    #bindInteractions(){\n        if( this.#elements.length > 0 && ConfigState.isIos() ){\n            Debug.writeMessage(\n                \"iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4\"\n            );\n        }else{\n            this.#elements.forEach( ( element ) => {\n                if( this.#mobile ){\n                    element.removeEventListener( \"touchend\", this.#handleInteraction );\n                    element.addEventListener( \"touchend\", this.#handleInteraction );\n                }else{\n                    element.removeEventListener( \"click\", this.#handleInteraction );\n                    element.addEventListener( \"click\", this.#handleInteraction );\n                }\n            });\n        }\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            let audio = new Audio();\n            let currentVolume = ConfigState.getVolume();\n            let volumeDecrement = ConfigState.getVolumeDecrement();\n\n            if( currentVolume - volumeDecrement > 0 ){\n                audio.setVolume( currentVolume - volumeDecrement );\n            }else{\n                audio.setVolume( 0 );\n            }\n\n            MuteElement.syncElements();\n            VolumeSliderElement.syncElements();\n        }\n    }\n}","import { Audio } from \"@/core/Audio\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { MuteElement } from \"./MuteElement\";\nimport { VolumeSliderElement } from \"./VolumeSliderElement\";\nimport { Debug } from \"@/services/Debug\";\n\n/**\n * Handles the configuration and managing of Volume Up elements\n * \n * A Volume Up element is defined as the following:\n * \n * Element: class=\"amplitude-volume-up\"\n * \n * Whenever this element is interacted with, the audio is muted no matter where.\n */\nexport class VolumeUpElement {\n    static volumeUpElementQuery = '.amplitude-volume-up';\n\n    #elements;\n    #mobile;\n\n    constructor(){\n        this.#mobile = ConfigState.isMobile();\n    }\n\n    setUp(){\n        this.#findElements();\n        this.#bindInteractions();\n    }\n\n    #findElements(){\n        this.#elements = document.querySelectorAll( VolumeUpElement.volumeUpElementQuery );\n    }\n\n    #bindInteractions(){\n        if( this.#elements.length > 0 && ConfigState.isIos() ){\n            Debug.writeMessage(\n                \"iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4\"\n            );\n        }else{\n            this.#elements.forEach( ( element ) => {\n                if( this.#mobile ){\n                    element.removeEventListener( \"touchend\", this.#handleInteraction );\n                    element.addEventListener( \"touchend\", this.#handleInteraction );\n                }else{\n                    element.removeEventListener( \"click\", this.#handleInteraction );\n                    element.addEventListener( \"click\", this.#handleInteraction );\n                }\n            });\n        }\n    }\n\n    #handleInteraction(){\n        if( !ConfigState.isTouchMoving() ){\n            let audio = new Audio();\n            let currentVolume = ConfigState.getVolume();\n            let volumeIncrement = ConfigState.getVolumeIncrement();\n\n            if( currentVolume + volumeIncrement <= 100 ){\n                audio.setVolume( currentVolume + volumeIncrement );\n            }else{\n                audio.setVolume( 100 );\n            }\n\n            MuteElement.syncElements();\n            VolumeSliderElement.syncElements();\n        }\n    }\n}","import { NextElement } from \"@/elements/NextElement\";\nimport { MetaDataElement } from \"@/elements/MetaDataElement\";\nimport { MuteElement } from \"@/elements/MuteElement\";\nimport { PauseElement } from \"@/elements/PauseElement\";\nimport { PlayElement } from \"@/elements/PlayElement\";\nimport { PlaybackSpeedElement } from \"@/elements/PlaybackSpeedElement\";\nimport { PlayPauseElement } from \"@/elements/PlayPauseElement\";\nimport { PreviousElement } from \"@/elements/PreviousElement\";\nimport { ShuffleElement } from \"@/elements/ShuffleElement\";\nimport { SkipToElement } from \"@/elements/SkipToElement\";\nimport { StopElement } from \"@/elements/StopElement\";\nimport { TrackerElement } from \"@/elements/TrackerElement\";\nimport { VolumeDownElement } from \"@/elements/VolumeDownElement\";\nimport { VolumeSliderElement } from \"@/elements/VolumeSliderElement\";\nimport { VolumeUpElement } from \"@/elements/VolumeUpElement\";\n\nexport class ElementsManager{\n    setVisualElementsDefaults(){\n\n    }\n\n    initializeElements(){\n        this.#initializeMetaData();\n        this.#initializePlayElement();\n        this.#initializePauseElement();\n        this.#initializePlayPauseElement();\n        this.#initializeNextElement();\n        this.#initializePreviousElement();\n        this.#initializeMuteElement();\n        this.#initializeVolumeSliderElement();\n        this.#initializePlaybackSpeedElement();\n        this.#initializeStopElement();\n        this.#initializeVolumeDownElement();\n        this.#initializeVolumeUpElement();\n        this.#initializeShuffleElement();\n        this.#initializeSkipToElement();\n        this.#initializeTrackerElement();\n    }\n\n    #initializeMetaData(){\n        let metaDataElement = new MetaDataElement();\n        metaDataElement.syncMetaData();\n    }\n\n    #initializePlayElement(){\n        let playElement = new PlayElement();\n        playElement.setUp();\n    }\n\n    #initializePauseElement(){\n        let pauseElement = new PauseElement();\n        pauseElement.setUp();\n    }\n\n    #initializePlayPauseElement(){\n        let playPauseElement = new PlayPauseElement();\n        playPauseElement.setUp();\n    }\n\n    #initializeNextElement(){\n        let nextElement = new NextElement();\n        nextElement.setUp();\n    }\n\n    #initializePreviousElement(){\n        let previousElement = new PreviousElement();\n        previousElement.setUp();\n    }\n\n    #initializeMuteElement(){\n        let muteElement = new MuteElement();\n        muteElement.setUp();\n    }\n\n    #initializeVolumeSliderElement(){\n        let volumeSliderElement = new VolumeSliderElement();\n        volumeSliderElement.setUp();\n    }\n\n    #initializePlaybackSpeedElement(){\n        let playbackSpeedElement = new PlaybackSpeedElement();\n        playbackSpeedElement.setUp();\n    }\n\n    #initializeStopElement(){\n        let stopElement = new StopElement();\n        stopElement.setUp();\n    }\n\n    #initializeVolumeDownElement(){\n        let volumeDownElement = new VolumeDownElement();\n        volumeDownElement.setUp();\n    }\n\n    #initializeVolumeUpElement(){\n        let volumeUpElement = new VolumeUpElement();\n        volumeUpElement.setUp();\n    }\n\n    #initializeShuffleElement(){\n        let shuffleElement = new ShuffleElement();\n        shuffleElement.setUp();\n    }\n\n    #initializeSkipToElement(){\n        let skipToElement = new SkipToElement();\n        skipToElement.setUp();\n    }\n\n    #initializeTrackerElement(){\n        let trackerElement = new TrackerElement();\n        trackerElement.setUp();\n    }\n}","import { config } from '@/config.js';\n\nexport class Collections{\n    constructor(){\n\n    }\n\n    initializeCollections(){\n        if( config.collections.length > 0 ){\n            this.#syncSoundCloudData();\n            this.#setActiveIndexes();\n            this.#initializeShuffle();\n            this.#initializeRepeat();\n        }\n    }\n\n    /**\n     * @todo Implement Sound Cloud\n     */\n    #syncSoundCloudData(){\n    //     /*\n    //   Iterate over all of the config's playlists\n    // */\n    // for (let key in config.playlists) {\n    //     /*\n    //       Checks if the playlist key is accurate.\n    //     */\n    //     if (config.playlists.hasOwnProperty(key)) {\n    //       /*\n    //         Checks if the playlist has songs.\n    //       */\n    //       if (config.playlists[key].songs) {\n    //         /*\n    //           Iterate over all of the songs in the playlist\n    //         */\n    //         for (let i = 0; i < config.playlists[key].songs.length; i++) {\n    //           if (Checks.isInt(config.playlists[key].songs[i])) {\n    //             config.playlists[key].songs[i] =\n    //               config.songs[config.playlists[key].songs[i]];\n  \n    //             config.playlists[key].songs[i].index = i;\n    //           }\n    //           /*\n    //             Check to see if the index for the song in the playlist\n    //             exists in the songs config.\n    //           */\n    //           if (\n    //             Checks.isInt(config.playlists[key].songs[i]) &&\n    //             !config.songs[config.playlists[key].songs[i]]\n    //           ) {\n    //             Debug.writeMessage(\n    //               \"The song index: \" +\n    //                 config.playlists[key].songs[i] +\n    //                 \" in playlist with key: \" +\n    //                 key +\n    //                 \" is not defined in your songs array!\"\n    //             );\n    //           }\n  \n    //           /*\n    //             If not an int, then is a dedicated song, just set the index.\n    //           */\n    //           if (!Checks.isInt(config.playlists[key].songs[i]) ){\n    //             config.playlists[key].songs[i].index = i;\n    //           }\n    //         }\n    //       }\n    //     }\n    //   }\n    }\n\n    #setActiveIndexes(){\n        config.collections.forEach( ( collection ) => {\n            collection.active_index = null;\n        } );\n    }\n\n    #initializeShuffle(){\n        config.collections.forEach( ( collection ) => {\n            collection.shuffle = false;\n            collection.shuffle_list = [];\n        } );\n    }\n\n    #initializeRepeat(){\n        config.collections.forEach( ( collection ) => {\n            collection.repeat = false;\n        } );\n\n        console.log( config );\n    }\n}","import { Collections } from \"@/init/Collections\";\nimport { config } from '@/config.js';\nimport { MuteElement } from '@/elements/MuteElement';\nimport { PlaybackSpeedElement } from '@/elements/PlaybackSpeedElement';\n\nexport class UserConfig {\n    copyUserSettings( userConfig ){\n        this.setAudio( userConfig.audio );\n\t\tthis.setCollections( userConfig.collections );\n\t\tthis.setVolume( userConfig.volume );\n\t\tthis.setDebug( userConfig.debug );\n\t\tthis.setDefaultArtwork( userConfig.default_artwork );\n\t\tthis.setPlaybackSpeed( userConfig.playback_speed );\n\t\tthis.setCallbacks( userConfig.callbacks );\n    }\n\n    setAudio( value ){\n\t\tconfig.audio = value != undefined ? value : [];\n\n\t\tthis.#setDefaultLiveSettings();\n\t\tthis.#setDefaultAudioIndices();\n\t}\n\n    #setDefaultLiveSettings(){\n\t\tconfig.audio.forEach( ( audio, index ) => {\n\t\t\tif( audio.live == undefined ){\n\t\t\t\taudio.live = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t#setDefaultAudioIndices(){\n\t\tconfig.audio.forEach( ( audio, index ) => {\n\t\t\taudio.index = index;\n\t\t});\n\t}\n\n    setCollections( userCollections ){\n\t\tconfig.collections = userCollections;\n\n        let collections = new Collections();\n        collections.initializeCollections();\n\t}\n\n    setVolume( volume ){\n\t\tconfig.volume.current = volume && volume.initial ? volume.initial : 50;\n\t\tconfig.volume.increment = volume && volume.increment ? volume.increment : 5;\n\t\tconfig.volume.decrement = volume && volume.decrement ? volume.decrement : 5;\n\n\t\tMuteElement.syncElements();\n\t}\n\n    setDebug( value ){\n\t\tconfig.debug = value != undefined ? value : false;\n\t}\n\n\tsetDefaultArtwork( value ){\n\t\tconfig.default_artwork = value != undefined ? value : false;\n\t}\n\n    setPlaybackSpeed( speed ){\n\t\tconfig.playback_speed = speed != undefined ? speed : 1.0;\n\n\t\tPlaybackSpeedElement.syncElements();\n\t}\n\n\tsetCallbacks( callbacks ){\n\t\tconfig.callbacks = callbacks != undefined ? callbacks : [];\n\t}\n}","import { Debug } from \"@/services/Debug\";\nimport { ConfigState } from \"@/services/ConfigState\";\nimport { EventManager } from \"@/services/EventManager\";\nimport { ElementsManager } from \"@/services/ElementsManager\";\nimport { UserConfig } from \"@/init/UserConfig\";\nimport { config } from \"../config\";\nimport { Navigation as AudioNavigation } from \"@/services/Audio/Navigation\";\nimport { Callbacks } from \"@/services/Callbacks\";\n\nexport class Initializer{\n    #element;\n    #userConfig;\n    #configState;\n    #ready = false;\n\n    constructor( userConfig, element ){\n        this.#configState = new ConfigState();\n        this.#configState.setIsMobile();\n        this.#userConfig = userConfig;\n        this.#element = element;\n    }\n\n    setup(){\n        if( this.#isValidUrl( this.#userConfig ) ){\n            this.#loadUserConfig();\n        }else{\n            this.#prepareAmplitude();\n        }\n    }\n\n    #isValidUrl(url){\n        try {\n            new URL(url);\n        } catch (e) {\n            Debug.writeMessage('AmplitudeJS must be initialized with a JSON object or a valid URL.')\n            return false;\n        }\n\n        return true;\n    }\n\n    #loadUserConfig(){\n        fetch( this.#userConfig )\n            .then( ( response ) => {\n                if( response.status != 200 ){\n                    throw response.status;\n                }else{\n                    return response.json();\n                }\n            })\n            .then( ( data ) => {\n                this.#userConfig = data;\n                this.#prepareAmplitude();\n            })\n            .catch( ( error ) => {\n                Debug.writeMessage( error );\n            })\n    }\n\n    #prepareAmplitude(){\n        this.#resetConfig();\n        this.#copyUserConfig();\n        this.#initializeAudio();\n        this.#initializeEvents();\n        this.#initializeElements();\n        this.#initializeCallbacks();\n    }\n\n    // Ensure we have a blank slate on initialization.\n    #resetConfig(){\n        this.#configState.resetConfig();\n    }\n\n    #copyUserConfig(){\n        let userConfigInit = new UserConfig();\n        userConfigInit.copyUserSettings( this.#userConfig );\n    }\n\n    #initializeEvents(){\n        let eventManager = new EventManager();\n        eventManager.initializeAllEvents();\n    }\n\n    #initializeAudio(){\n        let audioNavigator = new AudioNavigation();\n\n        if( config.start_audio ){\n    \n        }else{\n            audioNavigator.changeAudio( config.audio[0], 0 );\n        }\n    }\n\n    #initializeElements(){\n        let elementsManager = new ElementsManager();\n        elementsManager.initializeElements();\n    }\n\n    #initializeCallbacks(){\n        let callbacks = new Callbacks();\n        callbacks.handleNativeAudioElementEvents();\n    }\n}","import { Initializer } from \"@/init/Initializer\";\n\n/**\n * The main init function.  The user will call this through\n * Amplitude.init() and pass in their settings.\n *\n * Public Accessor: Amplitude.init( user_config_json )\n * @access public\n * @param {object|url} userConfig - A URL or JSON object of user defined values that help configure and initialize AmplitudeJS.\n * @param {string|element} element - A unique identifier or DOM Element to bind Amplitude methods to.\n */\nexport function init( userConfig = {}, element = null ){\n    let initializer = new Initializer( userConfig, element );\n    initializer.setup();\n}","import { config } from \"@/config.js\";\n\n/**\n * Returns the current config for AmplitudeJS\n * \n * Public Method: Amplitude.getConfig()\n * \n * @access public\n * @returns {object} \n */\nexport function getConfig(){\n    return config;\n}","import { config } from \"@/config.js\";\n\n/**\n * Returns the key of the active playlist\n * \n * Public Method: Amplitude.getActivePlaylist()\n * \n * @access public\n * @returns {string} \n */\n export function getActivePlaylist(){\n    return config.active_playlist;\n}","import { config } from \"@/config.js\";\nimport { Debug } from \"@/services/Debug\";\n\nconst validEventListeners = [\n    'abort',\n    'error',\n    'loadeddata',\n    'loadedmetadata',\n    'loadstart',\n    'pause',\n    'playing',\n    'play',\n    'progress',\n    'ratechange',\n    'seeked',\n    'seeking',\n    'stalled',\n    'suspend',\n    'timeupdate',\n    'volumechange',\n    'waiting',\n    'canplay',\n    'canplaythrough',\n    'durationchange',\n    'ended'\n];\n\n/**\n * Binds an event listener to a native HTML 5 event\n * emitted from the audio element.\n * \n * Public Accessor: Amplitude.addAudioEventListener( event, method )\n * @access public\n * @param string event - The event name you want to bind a listener to.\n * @param string method - The method you are binding to the event.\n */\nexport function addAudioEventListener( event, method ){\n    if( validEventListeners.indexOf( event ) > -1 ){\n        config.audio_element.addEventListener( event, method );\n    }else{\n        Debug.writeMessage( \"Invalid event listener. Please see all valid events here: https://www.w3schools.com/tags/ref_av_dom.asp\")\n    }\n}","/**\n * @name AmplitudeJS\n * @author Dan Pastori (Server Side Up) <hello@serversideup.net>\n */\nimport * as initMethods from \"@/methods/init.js\";\nimport * as configMethods from \"@/methods/config.js\";\nimport * as playlistMethods from \"@/methods/playlists.js\";\nimport * as eventListeners from \"@/methods/eventListeners.js\";\n\n/**\n * Amplitude is an interface to the public methods.\n * All public methods are in the /methods directory.\n * These methods use clases to perform functionality.\n * The state is stored in /config.js\n *\n * @module Amplitude\n */\nconst Amplitude = (function(){\n    return {\n        ...initMethods,\n        ...configMethods,\n        ...playlistMethods,\n        ...eventListeners\n    }\n})();\n\nexport default Amplitude;"],"names":["config","version","Debug","Audio","Checks","CollectionChecks","CollectionNavigation","Navigation","AudioChecks","AudioNavigation"],"mappings":"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"}